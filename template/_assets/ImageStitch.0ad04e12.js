let t=document.createElement("style");t.innerHTML=".image-stitch .upload[data-v-7b58033c]{font-size:24px;color:#fff;margin:50px 0}.image-stitch .upload .file[data-v-7b58033c]{padding:4px 10px;height:20px;line-height:20px;position:relative;cursor:pointer;color:#888;background:#fafafa;border:1px solid #ddd;border-radius:4px;overflow:hidden;display:inline-block}.image-stitch .upload .file input[data-v-7b58033c]{position:absolute;font-size:100px;right:0;top:0;opacity:0;cursor:pointer}.image-stitch .upload .file[data-v-7b58033c]:hover{color:#444;background:#eee;border-color:#ccc;text-decoration:none}.image-stitch .upload .switch[data-v-7b58033c]{margin:20px}.image-stitch .upload .switch #toggle-button[data-v-7b58033c]{display:none}.image-stitch .upload .switch .button-label[data-v-7b58033c]{position:relative;display:inline-block;width:130px;height:35px;background-color:#ccc;box-shadow:#ccc 0 0 0 2px;border-radius:30px;overflow:hidden}.image-stitch .upload .switch .circle[data-v-7b58033c]{position:absolute;top:0;left:0;width:35px;height:35px;border-radius:50%;background-color:#fff}.image-stitch .upload .switch .button-label .text[data-v-7b58033c]{line-height:35px;font-size:18px;text-shadow:0 0 2px #ddd}.image-stitch .upload .switch .on[data-v-7b58033c]{color:#fff;display:inline-block;text-indent:-25px}.image-stitch .upload .switch .off[data-v-7b58033c]{color:#fff;display:inline-block;text-indent:38px}.image-stitch .upload .switch .button-label .circle[data-v-7b58033c]{left:0;transition:.3s}.image-stitch .upload .switch #toggle-button:checked+label.button-label .circle[data-v-7b58033c]{left:95px}.image-stitch .loading[data-v-7b58033c]{z-index:5000;height:100vh;width:100vw;position:absolute;top:0;left:0;padding:50% 0;background:rgba(0,0,0,.3);font-size:24px;color:#fff}.image-stitch .preview[data-v-7b58033c]{position:relative;background:#f1f0ef;padding:10px}.image-stitch .info[data-v-7b58033c]{color:#999;line-height:20px;margin:5px}",document.head.appendChild(t);import{r as a}from"./request.0a68414f.js";import{r as e,c as i,a as o,w as l,d as c,b as d,j as s,v as n,p as r,f as p,o as h,g}from"./index.9e6cc7a7.js";var u={name:"ImageStitch",props:{msg:String,files:[]},data:()=>({count:0,loading:!1,imageData:null,direct:!0}),methods:{async formData(t){this.loading=!0;let e=t.target.files,i=new FormData;for(let t=0;t<e.length;t++)i.append("images",e[t]);i.append("direct",this.direct?"horizontal":"vertical");let o={"Content-Type":"multipart/form-data"};try{const t=await a.post("/cv/image/merge",i,{headers:o,responseType:"blob"});this.imageData=window.URL.createObjectURL(t.data)}catch(t){alert("解析图片失败",t),console.error(t)}finally{this.loading=!1}}}};const f=t=>(r("data-v-7b58033c"),t=t(),p(),t),b={class:"image-stitch"},m=f((()=>c("h1",null,"图像拼接",-1))),v=g("回首页"),x=f((()=>c("h3",null,"选择多个文件",-1))),w=f((()=>c("div",{class:"info"}," 类似全景模式的照片拼接，文件名最好按位置从左至右升序起名 ",-1))),k=f((()=>c("div",{class:"info"}," 手机上传照片的话可能需要切换一下横向拼接还是纵向拼接 ",-1))),y={class:"upload"},D={class:"switch"},z={for:"toggle-button",class:"button-label"},j=f((()=>c("span",{class:"circle"},null,-1))),_={class:"text on"},C={class:"text off"},L={class:"loading"},T=f((()=>c("h3",null,"结果预览",-1))),U={class:"preview"},H=["src"];u.render=function(t,a,r,p,g,u){const f=e("router-link");return h(),i("div",b,[m,o(f,{to:{name:"Home"}},{default:l((()=>[v])),_:1}),x,w,k,c("div",y,[c("input",{name:"",class:"file",id:"upload_file",type:"file",multiple:"",onChange:a[0]||(a[0]=(...t)=>u.formData&&u.formData(...t))},null,32),c("div",D,[d(c("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>g.direct=t),type:"checkbox",id:"toggle-button",name:"switch",checked:""},null,512),[[s,g.direct]]),c("label",z,[j,d(c("span",_,"横向拼接",512),[[n,g.direct]]),d(c("span",C,"纵向拼接",512),[[n,!g.direct]])])])]),d(c("div",L,"处理中 . . .",512),[[n,g.loading]]),T,c("div",U,[c("img",{src:g.imageData},null,8,H)])])},u.__scopeId="data-v-7b58033c";export{u as default};
