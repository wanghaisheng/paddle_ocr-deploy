function e(e,t){const r=Object.create(null),n=e.split(",");for(let e=0;e<n.length;e++)r[n[e]]=!0;return t?e=>!!r[e.toLowerCase()]:e=>!!r[e]}const t=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function r(e){return!!e||""===e}function n(e){if(y(e)){const t={};for(let r=0;r<e.length;r++){const o=e[r],i=D(o)?s(o):n(o);if(i)for(const e in i)t[e]=i[e]}return t}return D(e)||w(e)?e:void 0}const o=/;(?![^(]*\))/g,i=/:(.+)/;function s(e){const t={};return e.split(o).forEach((e=>{if(e){const r=e.split(i);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}function a(e){let t="";if(D(e))t=e;else if(y(e))for(let r=0;r<e.length;r++){const n=a(e[r]);n&&(t+=n+" ")}else if(w(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const l=e=>null==e?"":y(e)||w(e)&&(e.toString===b||!O(e.toString))?JSON.stringify(e,c,2):String(e),c=(e,t)=>t&&t.__v_isRef?c(e,t.value):R(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,r])=>(e[`${t} =>`]=r,e)),{})}:v(t)?{[`Set(${t.size})`]:[...t.values()]}:!w(t)||y(t)||P(t)?t:String(t),d={},u=[],p=()=>{},f=()=>!1,h=/^on[^a-z]/,E=e=>h.test(e),_=e=>e.startsWith("onUpdate:"),m=Object.assign,g=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},T=Object.prototype.hasOwnProperty,I=(e,t)=>T.call(e,t),y=Array.isArray,R=e=>"[object Map]"===M(e),v=e=>"[object Set]"===M(e),O=e=>"function"==typeof e,D=e=>"string"==typeof e,S=e=>"symbol"==typeof e,w=e=>null!==e&&"object"==typeof e,A=e=>w(e)&&O(e.then)&&O(e.catch),b=Object.prototype.toString,M=e=>b.call(e),P=e=>"[object Object]"===M(e),L=e=>D(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,C=e(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),N=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},x=/-(\w)/g,G=N((e=>e.replace(x,((e,t)=>t?t.toUpperCase():"")))),F=/\B([A-Z])/g,U=N((e=>e.replace(F,"-$1").toLowerCase())),V=N((e=>e.charAt(0).toUpperCase()+e.slice(1))),B=N((e=>e?`on${V(e)}`:"")),q=(e,t)=>!Object.is(e,t),k=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Y=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},W=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let H;let $;const z=[];class X{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&$&&(this.parent=$,this.index=($.scopes||($.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(z.push(this),$=this)}off(){this.active&&(z.pop(),$=z[z.length-1])}stop(e){if(this.active){if(this.effects.forEach((e=>e.stop())),this.cleanups.forEach((e=>e())),this.scopes&&this.scopes.forEach((e=>e.stop(!0))),this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}const j=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Z=e=>(e.w&ee)>0,Q=e=>(e.n&ee)>0,K=new WeakMap;let J=0,ee=1;const te=[];let re;const ne=Symbol(""),oe=Symbol("");class ie{constructor(e,t=null,r){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],function(e,t){(t=t||$)&&t.active&&t.effects.push(e)}(this,r)}run(){if(!this.active)return this.fn();if(!te.includes(this))try{return te.push(re=this),le.push(ae),ae=!0,ee=1<<++J,J<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ee})(this):se(this),this.fn()}finally{J<=30&&(e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const o=t[n];Z(o)&&!Q(o)?o.delete(e):t[r++]=o,o.w&=~ee,o.n&=~ee}t.length=r}})(this),ee=1<<--J,de(),te.pop();const e=te.length;re=e>0?te[e-1]:void 0}}stop(){this.active&&(se(this),this.onStop&&this.onStop(),this.active=!1)}}function se(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let ae=!0;const le=[];function ce(){le.push(ae),ae=!1}function de(){const e=le.pop();ae=void 0===e||e}function ue(e,t,r){if(!pe())return;let n=K.get(e);n||K.set(e,n=new Map);let o=n.get(r);o||n.set(r,o=j()),fe(o)}function pe(){return ae&&void 0!==re}function fe(e,t){let r=!1;J<=30?Q(e)||(e.n|=ee,r=!Z(e)):r=!e.has(re),r&&(e.add(re),re.deps.push(e))}function he(e,t,r,n,o,i){const s=K.get(e);if(!s)return;let a=[];if("clear"===t)a=[...s.values()];else if("length"===r&&y(e))s.forEach(((e,t)=>{("length"===t||t>=n)&&a.push(e)}));else switch(void 0!==r&&a.push(s.get(r)),t){case"add":y(e)?L(r)&&a.push(s.get("length")):(a.push(s.get(ne)),R(e)&&a.push(s.get(oe)));break;case"delete":y(e)||(a.push(s.get(ne)),R(e)&&a.push(s.get(oe)));break;case"set":R(e)&&a.push(s.get(ne))}if(1===a.length)a[0]&&Ee(a[0]);else{const e=[];for(const t of a)t&&e.push(...t);Ee(j(e))}}function Ee(e,t){for(const t of y(e)?e:[...e])(t!==re||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const _e=e("__proto__,__v_isRef,__isVue"),me=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(S)),ge=ve(),Te=ve(!1,!0),Ie=ve(!0),ye=Re();function Re(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const r=st(this);for(let e=0,t=this.length;e<t;e++)ue(r,0,e+"");const n=r[t](...e);return-1===n||!1===n?r[t](...e.map(st)):n}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){ce();const r=st(this)[t].apply(this,e);return de(),r}})),e}function ve(e=!1,t=!1){return function(r,n,o){if("__v_isReactive"===n)return!e;if("__v_isReadonly"===n)return e;if("__v_raw"===n&&o===(e?t?Ke:Qe:t?Ze:je).get(r))return r;const i=y(r);if(!e&&i&&I(ye,n))return Reflect.get(ye,n,o);const s=Reflect.get(r,n,o);if(S(n)?me.has(n):_e(n))return s;if(e||ue(r,0,n),t)return s;if(dt(s)){return!i||!L(n)?s.value:s}return w(s)?e?tt(s):et(s):s}}function Oe(e=!1){return function(t,r,n,o){let i=t[r];if(!e&&!ot(n)&&(n=st(n),i=st(i),!y(t)&&dt(i)&&!dt(n)))return i.value=n,!0;const s=y(t)&&L(r)?Number(r)<t.length:I(t,r),a=Reflect.set(t,r,n,o);return t===st(o)&&(s?q(n,i)&&he(t,"set",r,n):he(t,"add",r,n)),a}}const De={get:ge,set:Oe(),deleteProperty:function(e,t){const r=I(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&he(e,"delete",t,void 0),n},has:function(e,t){const r=Reflect.has(e,t);return S(t)&&me.has(t)||ue(e,0,t),r},ownKeys:function(e){return ue(e,0,y(e)?"length":ne),Reflect.ownKeys(e)}},Se={get:Ie,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},we=m({},De,{get:Te,set:Oe(!0)}),Ae=e=>e,be=e=>Reflect.getPrototypeOf(e);function Me(e,t,r=!1,n=!1){const o=st(e=e.__v_raw),i=st(t);t!==i&&!r&&ue(o,0,t),!r&&ue(o,0,i);const{has:s}=be(o),a=n?Ae:r?ct:lt;return s.call(o,t)?a(e.get(t)):s.call(o,i)?a(e.get(i)):void(e!==o&&e.get(t))}function Pe(e,t=!1){const r=this.__v_raw,n=st(r),o=st(e);return e!==o&&!t&&ue(n,0,e),!t&&ue(n,0,o),e===o?r.has(e):r.has(e)||r.has(o)}function Le(e,t=!1){return e=e.__v_raw,!t&&ue(st(e),0,ne),Reflect.get(e,"size",e)}function Ce(e){e=st(e);const t=st(this);return be(t).has.call(t,e)||(t.add(e),he(t,"add",e,e)),this}function Ne(e,t){t=st(t);const r=st(this),{has:n,get:o}=be(r);let i=n.call(r,e);i||(e=st(e),i=n.call(r,e));const s=o.call(r,e);return r.set(e,t),i?q(t,s)&&he(r,"set",e,t):he(r,"add",e,t),this}function xe(e){const t=st(this),{has:r,get:n}=be(t);let o=r.call(t,e);o||(e=st(e),o=r.call(t,e)),n&&n.call(t,e);const i=t.delete(e);return o&&he(t,"delete",e,void 0),i}function Ge(){const e=st(this),t=0!==e.size,r=e.clear();return t&&he(e,"clear",void 0,void 0),r}function Fe(e,t){return function(r,n){const o=this,i=o.__v_raw,s=st(i),a=t?Ae:e?ct:lt;return!e&&ue(s,0,ne),i.forEach(((e,t)=>r.call(n,a(e),a(t),o)))}}function Ue(e,t,r){return function(...n){const o=this.__v_raw,i=st(o),s=R(i),a="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,c=o[e](...n),d=r?Ae:t?ct:lt;return!t&&ue(i,0,l?oe:ne),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function Ve(e){return function(...t){return"delete"!==e&&this}}function Be(){const e={get(e){return Me(this,e)},get size(){return Le(this)},has:Pe,add:Ce,set:Ne,delete:xe,clear:Ge,forEach:Fe(!1,!1)},t={get(e){return Me(this,e,!1,!0)},get size(){return Le(this)},has:Pe,add:Ce,set:Ne,delete:xe,clear:Ge,forEach:Fe(!1,!0)},r={get(e){return Me(this,e,!0)},get size(){return Le(this,!0)},has(e){return Pe.call(this,e,!0)},add:Ve("add"),set:Ve("set"),delete:Ve("delete"),clear:Ve("clear"),forEach:Fe(!0,!1)},n={get(e){return Me(this,e,!0,!0)},get size(){return Le(this,!0)},has(e){return Pe.call(this,e,!0)},add:Ve("add"),set:Ve("set"),delete:Ve("delete"),clear:Ve("clear"),forEach:Fe(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((o=>{e[o]=Ue(o,!1,!1),r[o]=Ue(o,!0,!1),t[o]=Ue(o,!1,!0),n[o]=Ue(o,!0,!0)})),[e,r,t,n]}const[qe,ke,Ye,We]=Be();function He(e,t){const r=t?e?We:Ye:e?ke:qe;return(t,n,o)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(I(r,n)&&n in t?r:t,n,o)}const $e={get:He(!1,!1)},ze={get:He(!1,!0)},Xe={get:He(!0,!1)},je=new WeakMap,Ze=new WeakMap,Qe=new WeakMap,Ke=new WeakMap;function Je(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>M(e).slice(8,-1))(e))}function et(e){return e&&e.__v_isReadonly?e:rt(e,!1,De,$e,je)}function tt(e){return rt(e,!0,Se,Xe,Qe)}function rt(e,t,r,n,o){if(!w(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const s=Je(e);if(0===s)return e;const a=new Proxy(e,2===s?n:r);return o.set(e,a),a}function nt(e){return ot(e)?nt(e.__v_raw):!(!e||!e.__v_isReactive)}function ot(e){return!(!e||!e.__v_isReadonly)}function it(e){return nt(e)||ot(e)}function st(e){const t=e&&e.__v_raw;return t?st(t):e}function at(e){return Y(e,"__v_skip",!0),e}const lt=e=>w(e)?et(e):e,ct=e=>w(e)?tt(e):e;function dt(e){return Boolean(e&&!0===e.__v_isRef)}const ut={get:(e,t,r)=>{return dt(n=Reflect.get(e,t,r))?n.value:n;var n},set:(e,t,r,n)=>{const o=e[t];return dt(o)&&!dt(r)?(o.value=r,!0):Reflect.set(e,t,r,n)}};function pt(e){return nt(e)?e:new Proxy(e,ut)}class ft{constructor(e,t,r){this._setter=t,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new ie(e,(()=>{var e;this._dirty||(this._dirty=!0,(e=st(e=this)).dep&&Ee(e.dep))})),this.__v_isReadonly=r}get value(){const e=st(this);var t;return t=e,pe()&&((t=st(t)).dep||(t.dep=j()),fe(t.dep)),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function ht(e,t){let r,n;const o=O(e);o?(r=e,n=p):(r=e.get,n=e.set);return new ft(r,n,o||!n)}function Et(e,t,...r){const n=e.vnode.props||d;let o=r;const i=t.startsWith("update:"),s=i&&t.slice(7);if(s&&s in n){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:i}=n[e]||d;i?o=r.map((e=>e.trim())):t&&(o=r.map(W))}let a,l=n[a=B(t)]||n[a=B(G(t))];!l&&i&&(l=n[a=B(U(t))]),l&&fn(l,e,6,o);const c=n[a+"Once"];if(c){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,fn(c,e,6,o)}}function _t(e,t,r=!1){const n=t.emitsCache,o=n.get(e);if(void 0!==o)return o;const i=e.emits;let s={},a=!1;if(!O(e)){const n=e=>{const r=_t(e,t,!0);r&&(a=!0,m(s,r))};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return i||a?(y(i)?i.forEach((e=>s[e]=null)):m(s,i),n.set(e,s),s):(n.set(e,null),null)}function mt(e,t){return!(!e||!E(t))&&(t=t.slice(2).replace(/Once$/,""),I(e,t[0].toLowerCase()+t.slice(1))||I(e,U(t))||I(e,t))}Promise.resolve();let gt=null,Tt=null;function It(e){const t=gt;return gt=e,Tt=e&&e.type.__scopeId||null,t}function yt(e){const{type:t,vnode:r,proxy:n,withProxy:o,props:i,propsOptions:[s],slots:a,attrs:l,emit:c,render:d,renderCache:u,data:p,setupState:f,ctx:h,inheritAttrs:E}=e;let m,g;const T=It(e);try{if(4&r.shapeFlag){const e=o||n;m=zr(d.call(e,e,u,i,f,p,h)),g=l}else{const e=t;0,m=zr(e.length>1?e(i,{attrs:l,slots:a,emit:c}):e(i,null)),g=t.props?l:Rt(l)}}catch(t){Pr.length=0,hn(t,e,1),m=Wr(br)}let I=m;if(g&&!1!==E){const e=Object.keys(g),{shapeFlag:t}=I;e.length&&7&t&&(s&&e.some(_)&&(g=vt(g,s)),I=Hr(I,g))}return r.dirs&&(I.dirs=I.dirs?I.dirs.concat(r.dirs):r.dirs),r.transition&&(I.transition=r.transition),m=I,It(T),m}const Rt=e=>{let t;for(const r in e)("class"===r||"style"===r||E(r))&&((t||(t={}))[r]=e[r]);return t},vt=(e,t)=>{const r={};for(const n in e)_(n)&&n.slice(9)in t||(r[n]=e[n]);return r};function Ot(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(t[i]!==e[i]&&!mt(r,i))return!0}return!1}function Dt(e,t,r=!1){const n=nn||gt;if(n){const o=null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return r&&O(t)?t.call(n.proxy):t}}const St=e=>!!e.type.__asyncLoader,wt=e=>e.type.__isKeepAlive;function At(e,t){Mt(e,"a",t)}function bt(e,t){Mt(e,"da",t)}function Mt(e,t,r=nn){const n=e.__wdc||(e.__wdc=()=>{let t=r;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Lt(t,n,r),r){let e=r.parent;for(;e&&e.parent;)wt(e.parent.vnode)&&Pt(n,t,r,e),e=e.parent}}function Pt(e,t,r,n){const o=Lt(t,e,n,!0);Vt((()=>{g(n[t],o)}),r)}function Lt(e,t,r=nn,n=!1){if(r){const o=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...n)=>{if(r.isUnmounted)return;ce(),on(r);const o=fn(t,r,e,n);return sn(),de(),o});return n?o.unshift(i):o.push(i),i}}const Ct=e=>(t,r=nn)=>(!ln||"sp"===e)&&Lt(e,t,r),Nt=Ct("bm"),xt=Ct("m"),Gt=Ct("bu"),Ft=Ct("u"),Ut=Ct("bum"),Vt=Ct("um"),Bt=Ct("sp"),qt=Ct("rtg"),kt=Ct("rtc");function Yt(e,t=nn){Lt("ec",e,t)}let Wt=!0;function Ht(e){const t=Xt(e),r=e.proxy,n=e.ctx;Wt=!1,t.beforeCreate&&$t(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:s,watch:a,provide:l,inject:c,created:d,beforeMount:u,mounted:f,beforeUpdate:h,updated:E,activated:_,deactivated:m,beforeDestroy:g,beforeUnmount:T,destroyed:I,unmounted:R,render:v,renderTracked:D,renderTriggered:S,errorCaptured:A,serverPrefetch:b,expose:M,inheritAttrs:P,components:L,directives:C,filters:N}=t;if(c&&function(e,t,r=p,n=!1){y(e)&&(e=Kt(e));for(const r in e){const o=e[r];let i;i=w(o)?"default"in o?Dt(o.from||r,o.default,!0):Dt(o.from||r):Dt(o),dt(i)&&n?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[r]=i}}(c,n,null,e.appContext.config.unwrapInjectedRef),s)for(const e in s){const t=s[e];O(t)&&(n[e]=t.bind(r))}if(o){const t=o.call(r,r);w(t)&&(e.data=et(t))}if(Wt=!0,i)for(const e in i){const t=i[e],o=ht({get:O(t)?t.bind(r,r):O(t.get)?t.get.bind(r,r):p,set:!O(t)&&O(t.set)?t.set.bind(r):p});Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e})}if(a)for(const e in a)zt(a[e],n,r,e);if(l){const e=O(l)?l.call(r):l;Reflect.ownKeys(e).forEach((t=>{!function(e,t){if(nn){let r=nn.provides;const n=nn.parent&&nn.parent.provides;n===r&&(r=nn.provides=Object.create(n)),r[e]=t}}(t,e[t])}))}function x(e,t){y(t)?t.forEach((t=>e(t.bind(r)))):t&&e(t.bind(r))}if(d&&$t(d,e,"c"),x(Nt,u),x(xt,f),x(Gt,h),x(Ft,E),x(At,_),x(bt,m),x(Yt,A),x(kt,D),x(qt,S),x(Ut,T),x(Vt,R),x(Bt,b),y(M))if(M.length){const t=e.exposed||(e.exposed={});M.forEach((e=>{Object.defineProperty(t,e,{get:()=>r[e],set:t=>r[e]=t})}))}else e.exposed||(e.exposed={});v&&e.render===p&&(e.render=v),null!=P&&(e.inheritAttrs=P),L&&(e.components=L),C&&(e.directives=C)}function $t(e,t,r){fn(y(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,r)}function zt(e,t,r,n){const o=n.includes(".")?Bn(r,n):()=>r[n];if(D(e)){const r=t[e];O(r)&&Fn(o,r)}else if(O(e))Fn(o,e.bind(r));else if(w(e))if(y(e))e.forEach((e=>zt(e,t,r,n)));else{const n=O(e.handler)?e.handler.bind(r):t[e.handler];O(n)&&Fn(o,n,e)}}function Xt(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,a=i.get(t);let l;return a?l=a:o.length||r||n?(l={},o.length&&o.forEach((e=>jt(l,e,s,!0))),jt(l,t,s)):l=t,i.set(t,l),l}function jt(e,t,r,n=!1){const{mixins:o,extends:i}=t;i&&jt(e,i,r,!0),o&&o.forEach((t=>jt(e,t,r,!0)));for(const o in t)if(n&&"expose"===o);else{const n=Zt[o]||r&&r[o];e[o]=n?n(e[o],t[o]):t[o]}return e}const Zt={data:Qt,props:er,emits:er,methods:er,computed:er,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:er,directives:er,watch:function(e,t){if(!e)return t;if(!t)return e;const r=m(Object.create(null),e);for(const n in t)r[n]=Jt(e[n],t[n]);return r},provide:Qt,inject:function(e,t){return er(Kt(e),Kt(t))}};function Qt(e,t){return t?e?function(){return m(O(e)?e.call(this,this):e,O(t)?t.call(this,this):t)}:t:e}function Kt(e){if(y(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Jt(e,t){return e?[...new Set([].concat(e,t))]:t}function er(e,t){return e?m(m(Object.create(null),e),t):t}function tr(e,t,r,n=!1){const o={},i={};Y(i,Br,1),e.propsDefaults=Object.create(null),rr(e,t,o,i);for(const t in e.propsOptions[0])t in o||(o[t]=void 0);r?e.props=n?o:rt(o,!1,we,ze,Ze):e.type.props?e.props=o:e.props=i,e.attrs=i}function rr(e,t,r,n){const[o,i]=e.propsOptions;let s,a=!1;if(t)for(let l in t){if(C(l))continue;const c=t[l];let d;o&&I(o,d=G(l))?i&&i.includes(d)?(s||(s={}))[d]=c:r[d]=c:mt(e.emitsOptions,l)||l in n&&c===n[l]||(n[l]=c,a=!0)}if(i){const t=st(r),n=s||d;for(let s=0;s<i.length;s++){const a=i[s];r[a]=nr(o,t,a,n[a],e,!I(n,a))}}return a}function nr(e,t,r,n,o,i){const s=e[r];if(null!=s){const e=I(s,"default");if(e&&void 0===n){const e=s.default;if(s.type!==Function&&O(e)){const{propsDefaults:i}=o;r in i?n=i[r]:(on(o),n=i[r]=e.call(null,t),sn())}else n=e}s[0]&&(i&&!e?n=!1:!s[1]||""!==n&&n!==U(r)||(n=!0))}return n}function or(e,t,r=!1){const n=t.propsCache,o=n.get(e);if(o)return o;const i=e.props,s={},a=[];let l=!1;if(!O(e)){const n=e=>{l=!0;const[r,n]=or(e,t,!0);m(s,r),n&&a.push(...n)};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}if(!i&&!l)return n.set(e,u),u;if(y(i))for(let e=0;e<i.length;e++){const t=G(i[e]);ir(t)&&(s[t]=d)}else if(i)for(const e in i){const t=G(e);if(ir(t)){const r=i[e],n=s[t]=y(r)||O(r)?{type:r}:r;if(n){const e=lr(Boolean,n.type),r=lr(String,n.type);n[0]=e>-1,n[1]=r<0||e<r,(e>-1||I(n,"default"))&&a.push(t)}}}const c=[s,a];return n.set(e,c),c}function ir(e){return"$"!==e[0]}function sr(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function ar(e,t){return sr(e)===sr(t)}function lr(e,t){return y(t)?t.findIndex((t=>ar(t,e))):O(t)&&ar(t,e)?0:-1}const cr=e=>"_"===e[0]||"$stable"===e,dr=e=>y(e)?e.map(zr):[zr(e)],ur=(e,t,r)=>{const n=function(e,t=gt,r){if(!t)return e;if(e._n)return e;const n=(...r)=>{n._d&&xr(-1);const o=It(t),i=e(...r);return It(o),n._d&&xr(1),i};return n._n=!0,n._c=!0,n._d=!0,n}(((...e)=>dr(t(...e))),r);return n._c=!1,n},pr=(e,t,r)=>{const n=e._ctx;for(const r in e){if(cr(r))continue;const o=e[r];if(O(o))t[r]=ur(0,o,n);else if(null!=o){const e=dr(o);t[r]=()=>e}}},fr=(e,t)=>{const r=dr(t);e.slots.default=()=>r};function hr(e,t){if(null===gt)return e;const r=gt.proxy,n=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[o,i,s,a=d]=t[e];O(o)&&(o={mounted:o,updated:o}),o.deep&&qn(i),n.push({dir:o,instance:r,value:i,oldValue:void 0,arg:s,modifiers:a})}return e}function Er(e,t,r,n){const o=e.dirs,i=t&&t.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let l=a.dir[n];l&&(ce(),fn(l,r,8,[e.el,a,e,t]),de())}}function _r(){return{app:null,config:{isNativeTag:f,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mr=0;function gr(e,t){return function(r,n=null){null==n||w(n)||(n=null);const o=_r(),i=new Set;let s=!1;const a=o.app={_uid:mr++,_component:r,_props:n,_container:null,_context:o,_instance:null,version:Yn,get config(){return o.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&O(e.install)?(i.add(e),e.install(a,...t)):O(e)&&(i.add(e),e(a,...t))),a),mixin:e=>(o.mixins.includes(e)||o.mixins.push(e),a),component:(e,t)=>t?(o.components[e]=t,a):o.components[e],directive:(e,t)=>t?(o.directives[e]=t,a):o.directives[e],mount(i,l,c){if(!s){const d=Wr(r,n);return d.appContext=o,l&&t?t(d,i):e(d,i,c),s=!0,a._container=i,i.__vue_app__=a,un(d.component)||d.component.proxy}},unmount(){s&&(e(null,a._container),delete a._container.__vue_app__)},provide:(e,t)=>(o.provides[e]=t,a)};return a}}function Tr(e,t,r,n,o=!1){if(y(e))return void e.forEach(((e,i)=>Tr(e,t&&(y(t)?t[i]:t),r,n,o)));if(St(n)&&!o)return;const i=4&n.shapeFlag?un(n.component)||n.component.proxy:n.el,s=o?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===d?a.refs={}:a.refs,p=a.setupState;if(null!=c&&c!==l&&(D(c)?(u[c]=null,I(p,c)&&(p[c]=null)):dt(c)&&(c.value=null)),O(l))pn(l,a,12,[s,u]);else{const t=D(l),n=dt(l);if(t||n){const n=()=>{if(e.f){const r=t?u[l]:l.value;o?y(r)&&g(r,i):y(r)?r.includes(i)||r.push(i):t?u[l]=[i]:(l.value=[i],e.k&&(u[e.k]=l.value))}else t?(u[l]=s,I(p,l)&&(p[l]=s)):dt(l)&&(l.value=s,e.k&&(u[e.k]=s))};s?(n.id=-1,Ir(n,r)):n()}}}const Ir=function(e,t){t&&t.pendingBranch?y(e)?t.effects.push(...e):t.effects.push(e):Pn(e,vn,Rn,On)};function yr(e){return function(e,t){(H||(H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})).__VUE__=!0;const{insert:r,remove:n,patchProp:o,createElement:i,createText:s,createComment:a,setText:l,setElementText:c,parentNode:f,nextSibling:h,setScopeId:E=p,cloneNode:_,insertStaticContent:g}=e,T=(e,t,r,n=null,o=null,i=null,s=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Vr(e,t)&&(n=re(e),Q(e,o,i,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:d,shapeFlag:u}=t;switch(c){case Ar:y(e,t,r,n);break;case br:R(e,t,r,n);break;case Mr:null==e&&v(t,r,n,s);break;case wr:x(e,t,r,n,o,i,s,a,l);break;default:1&u?S(e,t,r,n,o,i,s,a,l):6&u?F(e,t,r,n,o,i,s,a,l):(64&u||128&u)&&c.process(e,t,r,n,o,i,s,a,l,oe)}null!=d&&o&&Tr(d,e&&e.ref,i,t||e,!t)},y=(e,t,n,o)=>{if(null==e)r(t.el=s(t.children),n,o);else{const r=t.el=e.el;t.children!==e.children&&l(r,t.children)}},R=(e,t,n,o)=>{null==e?r(t.el=a(t.children||""),n,o):t.el=e.el},v=(e,t,r,n)=>{[e.el,e.anchor]=g(e.children,t,r,n)},O=({el:e,anchor:t},n,o)=>{let i;for(;e&&e!==t;)i=h(e),r(e,n,o),e=i;r(t,n,o)},D=({el:e,anchor:t})=>{let r;for(;e&&e!==t;)r=h(e),n(e),e=r;n(t)},S=(e,t,r,n,o,i,s,a,l)=>{s=s||"svg"===t.type,null==e?w(t,r,n,o,i,s,a,l):P(e,t,o,i,s,a,l)},w=(e,t,n,s,a,l,d,u)=>{let p,f;const{type:h,props:E,shapeFlag:m,transition:g,patchFlag:T,dirs:I}=e;if(e.el&&void 0!==_&&-1===T)p=e.el=_(e.el);else{if(p=e.el=i(e.type,l,E&&E.is,E),8&m?c(p,e.children):16&m&&M(e.children,p,null,s,a,l&&"foreignObject"!==h,d,u),I&&Er(e,null,s,"created"),E){for(const t in E)"value"===t||C(t)||o(p,t,null,E[t],l,e.children,s,a,te);"value"in E&&o(p,"value",null,E.value),(f=E.onVnodeBeforeMount)&&Zr(f,s,e)}b(p,e,e.scopeId,d,s)}I&&Er(e,null,s,"beforeMount");const y=(!a||a&&!a.pendingBranch)&&g&&!g.persisted;y&&g.beforeEnter(p),r(p,t,n),((f=E&&E.onVnodeMounted)||y||I)&&Ir((()=>{f&&Zr(f,s,e),y&&g.enter(p),I&&Er(e,null,s,"mounted")}),a)},b=(e,t,r,n,o)=>{if(r&&E(e,r),n)for(let t=0;t<n.length;t++)E(e,n[t]);if(o){if(t===o.subTree){const t=o.vnode;b(e,t,t.scopeId,t.slotScopeIds,o.parent)}}},M=(e,t,r,n,o,i,s,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?Xr(e[c]):zr(e[c]);T(null,l,t,r,n,o,i,s,a)}},P=(e,t,r,n,i,s,a)=>{const l=t.el=e.el;let{patchFlag:u,dynamicChildren:p,dirs:f}=t;u|=16&e.patchFlag;const h=e.props||d,E=t.props||d;let _;r&&Rr(r,!1),(_=E.onVnodeBeforeUpdate)&&Zr(_,r,t,e),f&&Er(t,e,r,"beforeUpdate"),r&&Rr(r,!0);const m=i&&"foreignObject"!==t.type;if(p?L(e.dynamicChildren,p,l,r,n,m,s):a||$(e,t,l,null,r,n,m,s,!1),u>0){if(16&u)N(l,t,h,E,r,n,i);else if(2&u&&h.class!==E.class&&o(l,"class",null,E.class,i),4&u&&o(l,"style",h.style,E.style,i),8&u){const s=t.dynamicProps;for(let t=0;t<s.length;t++){const a=s[t],c=h[a],d=E[a];d===c&&"value"!==a||o(l,a,c,d,i,e.children,r,n,te)}}1&u&&e.children!==t.children&&c(l,t.children)}else a||null!=p||N(l,t,h,E,r,n,i);((_=E.onVnodeUpdated)||f)&&Ir((()=>{_&&Zr(_,r,t,e),f&&Er(t,e,r,"updated")}),n)},L=(e,t,r,n,o,i,s)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],d=l.el&&(l.type===wr||!Vr(l,c)||70&l.shapeFlag)?f(l.el):r;T(l,c,d,null,n,o,i,s,!0)}},N=(e,t,r,n,i,s,a)=>{if(r!==n){for(const l in n){if(C(l))continue;const c=n[l],d=r[l];c!==d&&"value"!==l&&o(e,l,d,c,a,t.children,i,s,te)}if(r!==d)for(const l in r)C(l)||l in n||o(e,l,r[l],null,a,t.children,i,s,te);"value"in n&&o(e,"value",r.value,n.value)}},x=(e,t,n,o,i,a,l,c,d)=>{const u=t.el=e?e.el:s(""),p=t.anchor=e?e.anchor:s("");let{patchFlag:f,dynamicChildren:h,slotScopeIds:E}=t;E&&(c=c?c.concat(E):E),null==e?(r(u,n,o),r(p,n,o),M(t.children,n,p,i,a,l,c,d)):f>0&&64&f&&h&&e.dynamicChildren?(L(e.dynamicChildren,h,n,i,a,l,c),(null!=t.key||i&&t===i.subTree)&&vr(e,t,!0)):$(e,t,n,p,i,a,l,c,d)},F=(e,t,r,n,o,i,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?o.ctx.activate(t,r,n,s,l):V(t,r,n,o,i,s,l):B(e,t,l)},V=(e,t,r,n,o,i,s)=>{const a=e.component=function(e,t,r){const n=e.type,o=(t?t.appContext:e.appContext)||tn,i={uid:rn++,vnode:e,type:n,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new X(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:or(n,o),emitsOptions:_t(n,o),emit:null,emitted:null,propsDefaults:d,inheritAttrs:n.inheritAttrs,ctx:d,data:d,props:d,attrs:d,slots:d,refs:d,setupState:d,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};i.ctx={_:i},i.root=t?t.root:i,i.emit=Et.bind(null,i),e.ce&&e.ce(i);return i}(e,n,o);if(wt(e)&&(a.ctx.renderer=oe),function(e,t=!1){ln=t;const{props:r,children:n}=e.vnode,o=an(e);tr(e,r,o,t),((e,t)=>{if(32&e.vnode.shapeFlag){const r=t._;r?(e.slots=st(t),Y(t,"_",r)):pr(t,e.slots={})}else e.slots={},t&&fr(e,t);Y(e.slots,Br,1)})(e,n);const i=o?function(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=at(new Proxy(e.ctx,en));const{setup:n}=r;if(n){const r=e.setupContext=n.length>1?function(e){const t=t=>{e.exposed=t||{}};let r;return{get attrs(){return r||(r=function(e){return new Proxy(e.attrs,{get:(t,r)=>(ue(e,0,"$attrs"),t[r])})}(e))},slots:e.slots,emit:e.emit,expose:t}}(e):null;on(e),ce();const o=pn(n,e,0,[e.props,r]);if(de(),sn(),A(o)){if(o.then(sn,sn),t)return o.then((r=>{cn(e,r,t)})).catch((t=>{hn(t,e,0)}));e.asyncDep=o}else cn(e,o,t)}else dn(e,t)}(e,t):void 0;ln=!1}(a),a.asyncDep){if(o&&o.registerDep(a,q),!e.el){const e=a.subTree=Wr(br);R(null,e,t,r)}}else q(a,e,t,r,o,i,s)},B=(e,t,r)=>{const n=t.component=e.component;if(function(e,t,r){const{props:n,children:o,component:i}=e,{props:s,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(r&&l>=0))return!(!o&&!a||a&&a.$stable)||n!==s&&(n?!s||Ot(n,s,c):!!s);if(1024&l)return!0;if(16&l)return n?Ot(n,s,c):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t];if(s[r]!==n[r]&&!mt(c,r))return!0}}return!1}(e,t,r)){if(n.asyncDep&&!n.asyncResolved)return void W(n,t,r);n.next=t,function(e){const t=mn.indexOf(e);t>gn&&mn.splice(t,1)}(n.update),n.update()}else t.component=e.component,t.el=e.el,n.vnode=t},q=(e,t,r,n,o,i,s)=>{const a=()=>{if(e.isMounted){let t,{next:r,bu:n,u:a,parent:l,vnode:c}=e,d=r;Rr(e,!1),r?(r.el=c.el,W(e,r,s)):r=c,n&&k(n),(t=r.props&&r.props.onVnodeBeforeUpdate)&&Zr(t,l,r,c),Rr(e,!0);const u=yt(e),p=e.subTree;e.subTree=u,T(p,u,f(p.el),re(p),e,o,i),r.el=u.el,null===d&&function({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}(e,u.el),a&&Ir(a,o),(t=r.props&&r.props.onVnodeUpdated)&&Ir((()=>Zr(t,l,r,c)),o)}else{let s;const{el:a,props:l}=t,{bm:c,m:d,parent:u}=e,p=St(t);if(Rr(e,!1),c&&k(c),!p&&(s=l&&l.onVnodeBeforeMount)&&Zr(s,u,t),Rr(e,!0),a&&ae){const r=()=>{e.subTree=yt(e),ae(a,e.subTree,e,o,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&r())):r()}else{const s=e.subTree=yt(e);T(null,s,r,n,e,o,i),t.el=s.el}if(d&&Ir(d,o),!p&&(s=l&&l.onVnodeMounted)){const e=t;Ir((()=>Zr(s,u,e)),o)}256&t.shapeFlag&&e.a&&Ir(e.a,o),e.isMounted=!0,t=r=n=null}},l=e.effect=new ie(a,(()=>bn(e.update)),e.scope),c=e.update=l.run.bind(l);c.id=e.uid,Rr(e,!0),c()},W=(e,t,r)=>{t.component=e;const n=e.vnode.props;e.vnode=t,e.next=null,function(e,t,r,n){const{props:o,attrs:i,vnode:{patchFlag:s}}=e,a=st(o),[l]=e.propsOptions;let c=!1;if(!(n||s>0)||16&s){let n;rr(e,t,o,i)&&(c=!0);for(const i in a)t&&(I(t,i)||(n=U(i))!==i&&I(t,n))||(l?!r||void 0===r[i]&&void 0===r[n]||(o[i]=nr(l,a,i,void 0,e,!0)):delete o[i]);if(i!==a)for(const e in i)t&&I(t,e)||(delete i[e],c=!0)}else if(8&s){const r=e.vnode.dynamicProps;for(let n=0;n<r.length;n++){let s=r[n];const d=t[s];if(l)if(I(i,s))d!==i[s]&&(i[s]=d,c=!0);else{const t=G(s);o[t]=nr(l,a,t,d,e,!1)}else d!==i[s]&&(i[s]=d,c=!0)}}c&&he(e,"set","$attrs")}(e,t.props,n,r),((e,t,r)=>{const{vnode:n,slots:o}=e;let i=!0,s=d;if(32&n.shapeFlag){const e=t._;e?r&&1===e?i=!1:(m(o,t),r||1!==e||delete o._):(i=!t.$stable,pr(t,o)),s=t}else t&&(fr(e,t),s={default:1});if(i)for(const e in o)cr(e)||e in s||delete o[e]})(e,t.children,r),ce(),Ln(void 0,e.update),de()},$=(e,t,r,n,o,i,s,a,l=!1)=>{const d=e&&e.children,u=e?e.shapeFlag:0,p=t.children,{patchFlag:f,shapeFlag:h}=t;if(f>0){if(128&f)return void j(d,p,r,n,o,i,s,a,l);if(256&f)return void z(d,p,r,n,o,i,s,a,l)}8&h?(16&u&&te(d,o,i),p!==d&&c(r,p)):16&u?16&h?j(d,p,r,n,o,i,s,a,l):te(d,o,i,!0):(8&u&&c(r,""),16&h&&M(p,r,n,o,i,s,a,l))},z=(e,t,r,n,o,i,s,a,l)=>{t=t||u;const c=(e=e||u).length,d=t.length,p=Math.min(c,d);let f;for(f=0;f<p;f++){const n=t[f]=l?Xr(t[f]):zr(t[f]);T(e[f],n,r,null,o,i,s,a,l)}c>d?te(e,o,i,!0,!1,p):M(t,r,n,o,i,s,a,l,p)},j=(e,t,r,n,o,i,s,a,l)=>{let c=0;const d=t.length;let p=e.length-1,f=d-1;for(;c<=p&&c<=f;){const n=e[c],d=t[c]=l?Xr(t[c]):zr(t[c]);if(!Vr(n,d))break;T(n,d,r,null,o,i,s,a,l),c++}for(;c<=p&&c<=f;){const n=e[p],c=t[f]=l?Xr(t[f]):zr(t[f]);if(!Vr(n,c))break;T(n,c,r,null,o,i,s,a,l),p--,f--}if(c>p){if(c<=f){const e=f+1,u=e<d?t[e].el:n;for(;c<=f;)T(null,t[c]=l?Xr(t[c]):zr(t[c]),r,u,o,i,s,a,l),c++}}else if(c>f)for(;c<=p;)Q(e[c],o,i,!0),c++;else{const h=c,E=c,_=new Map;for(c=E;c<=f;c++){const e=t[c]=l?Xr(t[c]):zr(t[c]);null!=e.key&&_.set(e.key,c)}let m,g=0;const I=f-E+1;let y=!1,R=0;const v=new Array(I);for(c=0;c<I;c++)v[c]=0;for(c=h;c<=p;c++){const n=e[c];if(g>=I){Q(n,o,i,!0);continue}let d;if(null!=n.key)d=_.get(n.key);else for(m=E;m<=f;m++)if(0===v[m-E]&&Vr(n,t[m])){d=m;break}void 0===d?Q(n,o,i,!0):(v[d-E]=c+1,d>=R?R=d:y=!0,T(n,t[d],r,null,o,i,s,a,l),g++)}const O=y?function(e){const t=e.slice(),r=[0];let n,o,i,s,a;const l=e.length;for(n=0;n<l;n++){const l=e[n];if(0!==l){if(o=r[r.length-1],e[o]<l){t[n]=o,r.push(n);continue}for(i=0,s=r.length-1;i<s;)a=i+s>>1,e[r[a]]<l?i=a+1:s=a;l<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}i=r.length,s=r[i-1];for(;i-- >0;)r[i]=s,s=t[s];return r}(v):u;for(m=O.length-1,c=I-1;c>=0;c--){const e=E+c,u=t[e],p=e+1<d?t[e+1].el:n;0===v[c]?T(null,u,r,p,o,i,s,a,l):y&&(m<0||c!==O[m]?Z(u,r,p,2):m--)}}},Z=(e,t,n,o,i=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:d}=e;if(6&d)return void Z(e.component.subTree,t,n,o);if(128&d)return void e.suspense.move(t,n,o);if(64&d)return void a.move(e,t,n,oe);if(a===wr){r(s,t,n);for(let e=0;e<c.length;e++)Z(c[e],t,n,o);return void r(e.anchor,t,n)}if(a===Mr)return void O(e,t,n);if(2!==o&&1&d&&l)if(0===o)l.beforeEnter(s),r(s,t,n),Ir((()=>l.enter(s)),i);else{const{leave:e,delayLeave:o,afterLeave:i}=l,a=()=>r(s,t,n),c=()=>{e(s,(()=>{a(),i&&i()}))};o?o(s,a,c):c()}else r(s,t,n)},Q=(e,t,r,n=!1,o=!1)=>{const{type:i,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:d,patchFlag:u,dirs:p}=e;if(null!=a&&Tr(a,null,r,e,!0),256&d)return void t.ctx.deactivate(e);const f=1&d&&p,h=!St(e);let E;if(h&&(E=s&&s.onVnodeBeforeUnmount)&&Zr(E,t,e),6&d)ee(e.component,r,n);else{if(128&d)return void e.suspense.unmount(r,n);f&&Er(e,null,t,"beforeUnmount"),64&d?e.type.remove(e,t,r,o,oe,n):c&&(i!==wr||u>0&&64&u)?te(c,t,r,!1,!0):(i===wr&&384&u||!o&&16&d)&&te(l,t,r),n&&K(e)}(h&&(E=s&&s.onVnodeUnmounted)||f)&&Ir((()=>{E&&Zr(E,t,e),f&&Er(e,null,t,"unmounted")}),r)},K=e=>{const{type:t,el:r,anchor:o,transition:i}=e;if(t===wr)return void J(r,o);if(t===Mr)return void D(e);const s=()=>{n(r),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:n}=i,o=()=>t(r,s);n?n(e.el,s,o):o()}else s()},J=(e,t)=>{let r;for(;e!==t;)r=h(e),n(e),e=r;n(t)},ee=(e,t,r)=>{const{bum:n,scope:o,update:i,subTree:s,um:a}=e;n&&k(n),o.stop(),i&&(i.active=!1,Q(s,e,t,r)),a&&Ir(a,t),Ir((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},te=(e,t,r,n=!1,o=!1,i=0)=>{for(let s=i;s<e.length;s++)Q(e[s],t,r,n,o)},re=e=>6&e.shapeFlag?re(e.component.subTree):128&e.shapeFlag?e.suspense.next():h(e.anchor||e.el),ne=(e,t,r)=>{null==e?t._vnode&&Q(t._vnode,null,null,!0):T(t._vnode||null,e,t,null,null,null,r),Cn(),t._vnode=e},oe={p:T,um:Q,m:Z,r:K,mt:V,mc:M,pc:$,pbc:L,n:re,o:e};let se,ae;t&&([se,ae]=t(oe));return{render:ne,hydrate:se,createApp:gr(ne,se)}}(e)}function Rr({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function vr(e,t,r=!1){const n=e.children,o=t.children;if(y(n)&&y(o))for(let e=0;e<n.length;e++){const t=n[e];let i=o[e];1&i.shapeFlag&&!i.dynamicChildren&&((i.patchFlag<=0||32===i.patchFlag)&&(i=o[e]=Xr(o[e]),i.el=t.el),r||vr(t,i))}}function Or(e,t){return function(e,t,r=!0,n=!1){const o=gt||nn;if(o){const r=o.type;if("components"===e){const e=function(e){return O(e)&&e.displayName||e.name}(r);if(e&&(e===t||e===G(t)||e===V(G(t))))return r}const i=Sr(o[e]||r[e],t)||Sr(o.appContext[e],t);return!i&&n?r:i}}("components",e,!0,t)||e}const Dr=Symbol();function Sr(e,t){return e&&(e[t]||e[G(t)]||e[V(G(t))])}const wr=Symbol(void 0),Ar=Symbol(void 0),br=Symbol(void 0),Mr=Symbol(void 0),Pr=[];let Lr=null;function Cr(e=!1){Pr.push(Lr=e?null:[])}let Nr=1;function xr(e){Nr+=e}function Gr(e){return e.dynamicChildren=Nr>0?Lr||u:null,Pr.pop(),Lr=Pr[Pr.length-1]||null,Nr>0&&Lr&&Lr.push(e),e}function Fr(e,t,r,n,o,i){return Gr(Yr(e,t,r,n,o,i,!0))}function Ur(e){return!!e&&!0===e.__v_isVNode}function Vr(e,t){return e.type===t.type&&e.key===t.key}const Br="__vInternal",qr=({key:e})=>null!=e?e:null,kr=({ref:e,ref_key:t,ref_for:r})=>null!=e?D(e)||dt(e)||O(e)?{i:gt,r:e,k:t,f:!!r}:e:null;function Yr(e,t=null,r=null,n=0,o=null,i=(e===wr?0:1),s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&qr(t),ref:t&&kr(t),scopeId:Tt,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null};return a?(jr(l,r),128&i&&e.normalize(l)):r&&(l.shapeFlag|=D(r)?8:16),Nr>0&&!s&&Lr&&(l.patchFlag>0||6&i)&&32!==l.patchFlag&&Lr.push(l),l}const Wr=function(e,t=null,r=null,o=0,i=null,s=!1){e&&e!==Dr||(e=br);if(Ur(e)){const n=Hr(e,t,!0);return r&&jr(n,r),n}l=e,O(l)&&"__vccOpts"in l&&(e=e.__vccOpts);var l;if(t){t=function(e){return e?it(e)||Br in e?m({},e):e:null}(t);let{class:e,style:r}=t;e&&!D(e)&&(t.class=a(e)),w(r)&&(it(r)&&!y(r)&&(r=m({},r)),t.style=n(r))}const c=D(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:w(e)?4:O(e)?2:0;return Yr(e,t,r,o,i,c,s,!0)};function Hr(e,t,r=!1){const{props:o,ref:i,patchFlag:s,children:l}=e,c=t?function(...e){const t={};for(let r=0;r<e.length;r++){const o=e[r];for(const e in o)if("class"===e)t.class!==o.class&&(t.class=a([t.class,o.class]));else if("style"===e)t.style=n([t.style,o.style]);else if(E(e)){const r=t[e],n=o[e];r===n||y(r)&&r.includes(n)||(t[e]=r?[].concat(r,n):n)}else""!==e&&(t[e]=o[e])}return t}(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&qr(c),ref:t&&t.ref?r&&i?y(i)?i.concat(kr(t)):[i,kr(t)]:kr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wr?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Hr(e.ssContent),ssFallback:e.ssFallback&&Hr(e.ssFallback),el:e.el,anchor:e.anchor}}function $r(e=" ",t=0){return Wr(Ar,null,e,t)}function zr(e){return null==e||"boolean"==typeof e?Wr(br):y(e)?Wr(wr,null,e.slice()):"object"==typeof e?Xr(e):Wr(Ar,null,String(e))}function Xr(e){return null===e.el||e.memo?e:Hr(e)}function jr(e,t){let r=0;const{shapeFlag:n}=e;if(null==t)t=null;else if(y(t))r=16;else if("object"==typeof t){if(65&n){const r=t.default;return void(r&&(r._c&&(r._d=!1),jr(e,r()),r._c&&(r._d=!0)))}{r=32;const n=t._;n||Br in t?3===n&&gt&&(1===gt.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=gt}}else O(t)?(t={default:t,_ctx:gt},r=32):(t=String(t),64&n?(r=16,t=[$r(t)]):r=8);e.children=t,e.shapeFlag|=r}function Zr(e,t,r,n=null){fn(e,t,7,[r,n])}function Qr(e,t,r,n){let o;const i=r&&r[n];if(y(e)||D(e)){o=new Array(e.length);for(let r=0,n=e.length;r<n;r++)o[r]=t(e[r],r,void 0,i&&i[r])}else if("number"==typeof e){o=new Array(e);for(let r=0;r<e;r++)o[r]=t(r+1,r,void 0,i&&i[r])}else if(w(e))if(e[Symbol.iterator])o=Array.from(e,((e,r)=>t(e,r,void 0,i&&i[r])));else{const r=Object.keys(e);o=new Array(r.length);for(let n=0,s=r.length;n<s;n++){const s=r[n];o[n]=t(e[s],s,n,i&&i[n])}}else o=[];return r&&(r[n]=o),o}const Kr=e=>e?an(e)?un(e)||e.proxy:Kr(e.parent):null,Jr=m(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Kr(e.parent),$root:e=>Kr(e.root),$emit:e=>e.emit,$options:e=>Xt(e),$forceUpdate:e=>()=>bn(e.update),$nextTick:e=>An.bind(e.proxy),$watch:e=>Vn.bind(e)}),en={get({_:e},t){const{ctx:r,setupState:n,data:o,props:i,accessCache:s,type:a,appContext:l}=e;let c;if("$"!==t[0]){const a=s[t];if(void 0!==a)switch(a){case 1:return n[t];case 2:return o[t];case 4:return r[t];case 3:return i[t]}else{if(n!==d&&I(n,t))return s[t]=1,n[t];if(o!==d&&I(o,t))return s[t]=2,o[t];if((c=e.propsOptions[0])&&I(c,t))return s[t]=3,i[t];if(r!==d&&I(r,t))return s[t]=4,r[t];Wt&&(s[t]=0)}}const u=Jr[t];let p,f;return u?("$attrs"===t&&ue(e,0,t),u(e)):(p=a.__cssModules)&&(p=p[t])?p:r!==d&&I(r,t)?(s[t]=4,r[t]):(f=l.config.globalProperties,I(f,t)?f[t]:void 0)},set({_:e},t,r){const{data:n,setupState:o,ctx:i}=e;if(o!==d&&I(o,t))o[t]=r;else if(n!==d&&I(n,t))n[t]=r;else if(I(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:o,propsOptions:i}},s){let a;return!!r[s]||e!==d&&I(e,s)||t!==d&&I(t,s)||(a=i[0])&&I(a,s)||I(n,s)||I(Jr,s)||I(o.config.globalProperties,s)}},tn=_r();let rn=0;let nn=null;const on=e=>{nn=e,e.scope.on()},sn=()=>{nn&&nn.scope.off(),nn=null};function an(e){return 4&e.vnode.shapeFlag}let ln=!1;function cn(e,t,r){O(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:w(t)&&(e.setupState=pt(t)),dn(e,r)}function dn(e,t,r){const n=e.type;e.render||(e.render=n.render||p),on(e),ce(),Ht(e),de(),sn()}function un(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(pt(at(e.exposed)),{get:(t,r)=>r in t?t[r]:r in Jr?Jr[r](e):void 0}))}function pn(e,t,r,n){let o;try{o=n?e(...n):e()}catch(e){hn(e,t,r)}return o}function fn(e,t,r,n){if(O(e)){const o=pn(e,t,r,n);return o&&A(o)&&o.catch((e=>{hn(e,t,r)})),o}const o=[];for(let i=0;i<e.length;i++)o.push(fn(e[i],t,r,n));return o}function hn(e,t,r,n=!0){t&&t.vnode;if(t){let n=t.parent;const o=t.proxy,i=r;for(;n;){const t=n.ec;if(t)for(let r=0;r<t.length;r++)if(!1===t[r](e,o,i))return;n=n.parent}const s=t.appContext.config.errorHandler;if(s)return void pn(s,null,10,[e,o,i])}!function(e,t,r,n=!0){console.error(e)}(e,0,0,n)}let En=!1,_n=!1;const mn=[];let gn=0;const Tn=[];let In=null,yn=0;const Rn=[];let vn=null,On=0;const Dn=Promise.resolve();let Sn=null,wn=null;function An(e){const t=Sn||Dn;return e?t.then(this?e.bind(this):e):t}function bn(e){mn.length&&mn.includes(e,En&&e.allowRecurse?gn+1:gn)||e===wn||(null==e.id?mn.push(e):mn.splice(function(e){let t=gn+1,r=mn.length;for(;t<r;){const n=t+r>>>1;Nn(mn[n])<e?t=n+1:r=n}return t}(e.id),0,e),Mn())}function Mn(){En||_n||(_n=!0,Sn=Dn.then(xn))}function Pn(e,t,r,n){y(e)?r.push(...e):t&&t.includes(e,e.allowRecurse?n+1:n)||r.push(e),Mn()}function Ln(e,t=null){if(Tn.length){for(wn=t,In=[...new Set(Tn)],Tn.length=0,yn=0;yn<In.length;yn++)In[yn]();In=null,yn=0,wn=null,Ln(e,t)}}function Cn(e){if(Rn.length){const e=[...new Set(Rn)];if(Rn.length=0,vn)return void vn.push(...e);for(vn=e,vn.sort(((e,t)=>Nn(e)-Nn(t))),On=0;On<vn.length;On++)vn[On]();vn=null,On=0}}const Nn=e=>null==e.id?1/0:e.id;function xn(e){_n=!1,En=!0,Ln(e),mn.sort(((e,t)=>Nn(e)-Nn(t)));try{for(gn=0;gn<mn.length;gn++){const e=mn[gn];e&&!1!==e.active&&pn(e,null,14)}}finally{gn=0,mn.length=0,Cn(),En=!1,Sn=null,(mn.length||Tn.length||Rn.length)&&xn(e)}}const Gn={};function Fn(e,t,r){return Un(e,t,r)}function Un(e,t,{immediate:r,deep:n,flush:o,onTrack:i,onTrigger:s}=d){const a=nn;let l,c,u=!1,f=!1;if(dt(e)?(l=()=>e.value,u=!!e._shallow):nt(e)?(l=()=>e,n=!0):y(e)?(f=!0,u=e.some(nt),l=()=>e.map((e=>dt(e)?e.value:nt(e)?qn(e):O(e)?pn(e,a,2):void 0))):l=O(e)?t?()=>pn(e,a,2):()=>{if(!a||!a.isUnmounted)return c&&c(),fn(e,a,3,[h])}:p,t&&n){const e=l;l=()=>qn(e())}let h=e=>{c=T.onStop=()=>{pn(e,a,4)}};if(ln)return h=p,t?r&&fn(t,a,3,[l(),f?[]:void 0,h]):l(),p;let E=f?[]:Gn;const _=()=>{if(T.active)if(t){const e=T.run();(n||u||(f?e.some(((e,t)=>q(e,E[t]))):q(e,E)))&&(c&&c(),fn(t,a,3,[e,E===Gn?void 0:E,h]),E=e)}else T.run()};let m;_.allowRecurse=!!t,m="sync"===o?_:"post"===o?()=>Ir(_,a&&a.suspense):()=>{!a||a.isMounted?function(e){Pn(e,In,Tn,yn)}(_):_()};const T=new ie(l,m);return t?r?_():E=T.run():"post"===o?Ir(T.run.bind(T),a&&a.suspense):T.run(),()=>{T.stop(),a&&a.scope&&g(a.scope.effects,T)}}function Vn(e,t,r){const n=this.proxy,o=D(e)?e.includes(".")?Bn(n,e):()=>n[e]:e.bind(n,n);let i;O(t)?i=t:(i=t.handler,r=t);const s=nn;on(this);const a=Un(o,i.bind(n),r);return s?on(s):sn(),a}function Bn(e,t){const r=t.split(".");return()=>{let t=e;for(let e=0;e<r.length&&t;e++)t=t[r[e]];return t}}function qn(e,t){if(!w(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),dt(e))qn(e.value,t);else if(y(e))for(let r=0;r<e.length;r++)qn(e[r],t);else if(v(e)||R(e))e.forEach((e=>{qn(e,t)}));else if(P(e))for(const r in e)qn(e[r],t);return e}function kn(e,t,r){const n=arguments.length;return 2===n?w(t)&&!y(t)?Ur(t)?Wr(e,null,[t]):Wr(e,t):Wr(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):3===n&&Ur(r)&&(r=[r]),Wr(e,t,r))}const Yn="3.2.26",Wn="undefined"!=typeof document?document:null,Hn=new Map,$n={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const o=t?Wn.createElementNS("http://www.w3.org/2000/svg",e):Wn.createElement(e,r?{is:r}:void 0);return"select"===e&&n&&null!=n.multiple&&o.setAttribute("multiple",n.multiple),o},createText:e=>Wn.createTextNode(e),createComment:e=>Wn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Wn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,r,n){const o=r?r.previousSibling:t.lastChild;let i=Hn.get(e);if(!i){const t=Wn.createElement("template");if(t.innerHTML=n?`<svg>${e}</svg>`:e,i=t.content,n){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}Hn.set(e,i)}return t.insertBefore(i.cloneNode(!0),r),[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};const zn=/\s*!important$/;function Xn(e,t,r){if(y(r))r.forEach((r=>Xn(e,t,r)));else if(t.startsWith("--"))e.setProperty(t,r);else{const n=function(e,t){const r=Zn[t];if(r)return r;let n=G(t);if("filter"!==n&&n in e)return Zn[t]=n;n=V(n);for(let r=0;r<jn.length;r++){const o=jn[r]+n;if(o in e)return Zn[t]=o}return t}(e,t);zn.test(r)?e.setProperty(U(n),r.replace(zn,""),"important"):e[n]=r}}const jn=["Webkit","Moz","ms"],Zn={};const Qn="http://www.w3.org/1999/xlink";let Kn=Date.now,Jn=!1;if("undefined"!=typeof window){Kn()>document.createEvent("Event").timeStamp&&(Kn=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);Jn=!!(e&&Number(e[1])<=53)}let eo=0;const to=Promise.resolve(),ro=()=>{eo=0};function no(e,t,r,n,o=null){const i=e._vei||(e._vei={}),s=i[t];if(n&&s)s.value=n;else{const[r,a]=function(e){let t;if(oo.test(e)){let r;for(t={};r=e.match(oo);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[U(e.slice(2)),t]}(t);if(n){const s=i[t]=function(e,t){const r=e=>{const n=e.timeStamp||Kn();(Jn||n>=r.attached-1)&&fn(function(e,t){if(y(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}(e,r.value),t,5,[e])};return r.value=e,r.attached=(()=>eo||(to.then(ro),eo=Kn()))(),r}(n,o);!function(e,t,r,n){e.addEventListener(t,r,n)}(e,r,s,a)}else s&&(!function(e,t,r,n){e.removeEventListener(t,r,n)}(e,r,s,a),i[t]=void 0)}}const oo=/(?:Once|Passive|Capture)$/;const io=/^on[a-z]/;const so={beforeMount(e,{value:t},{transition:r}){e._vod="none"===e.style.display?"":e.style.display,r&&t?r.beforeEnter(e):ao(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),ao(e,!0),n.enter(e)):n.leave(e,(()=>{ao(e,!1)})):ao(e,t))},beforeUnmount(e,{value:t}){ao(e,t)}};function ao(e,t){e.style.display=t?e._vod:"none"}const lo=m({patchProp:(e,n,o,i,s=!1,a,l,c,d)=>{"class"===n?function(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),null==t?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}(e,i,s):"style"===n?function(e,t,r){const n=e.style,o=D(r);if(r&&!o){for(const e in r)Xn(n,e,r[e]);if(t&&!D(t))for(const e in t)null==r[e]&&Xn(n,e,"")}else{const i=n.display;o?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=i)}}(e,o,i):E(n)?_(n)||no(e,n,0,i,l):("."===n[0]?(n=n.slice(1),1):"^"===n[0]?(n=n.slice(1),0):function(e,t,r,n){if(n)return"innerHTML"===t||"textContent"===t||!!(t in e&&io.test(t)&&O(r));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(io.test(t)&&D(r))return!1;return t in e}(e,n,i,s))?function(e,t,n,o,i,s,a){if("innerHTML"===t||"textContent"===t)return o&&a(o,i,s),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const r=null==n?"":n;return e.value===r&&"OPTION"!==e.tagName||(e.value=r),void(null==n&&e.removeAttribute(t))}if(""===n||null==n){const o=typeof e[t];if("boolean"===o)return void(e[t]=r(n));if(null==n&&"string"===o)return e[t]="",void e.removeAttribute(t);if("number"===o){try{e[t]=0}catch(e){}return void e.removeAttribute(t)}}try{e[t]=n}catch(e){}}(e,n,i,a,l,c,d):("true-value"===n?e._trueValue=i:"false-value"===n&&(e._falseValue=i),function(e,n,o,i,s){if(i&&n.startsWith("xlink:"))null==o?e.removeAttributeNS(Qn,n.slice(6,n.length)):e.setAttributeNS(Qn,n,o);else{const i=t(n);null==o||i&&!r(o)?e.removeAttribute(n):e.setAttribute(n,i?"":o)}}(e,n,i,s))}},$n);let co;
/*!
 * FilePond 4.30.3
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */
const uo=(e,t)=>{for(const r in e)e.hasOwnProperty(r)&&t(r,e[r])},po=e=>{const t={};return uo(e,(r=>{((e,t,r)=>{"function"!=typeof r?Object.defineProperty(e,t,{...r}):e[t]=r})(t,r,e[r])})),t},fo=(e,t,r=null)=>{if(null===r)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,r)},ho=["svg","path"],Eo=e=>ho.includes(e),_o=(e,t,r={})=>{"object"==typeof t&&(r=t,t=null);const n=Eo(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return t&&(Eo(e)?fo(n,"class",t):n.className=t),uo(r,((e,t)=>{fo(n,e,t)})),n},mo=(e,t)=>(e,r)=>(void 0!==r?t.splice(r,0,e):t.push(e),e),go=(e,t)=>r=>(t.splice(t.indexOf(r),1),r.element.parentNode&&e.removeChild(r.element),r),To="undefined"!=typeof window&&void 0!==window.document,Io=()=>To,yo="children"in(Io()?_o("svg"):{})?e=>e.children.length:e=>e.childNodes.length,Ro=(e,t,r,n)=>{const o=r[0]||e.left,i=r[1]||e.top,s=o+e.width,a=i+e.height*(n[1]||1),l={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:o,top:i,right:s,bottom:a}};return t.filter((e=>!e.isRectIgnored())).map((e=>e.rect)).forEach((e=>{vo(l.inner,{...e.inner}),vo(l.outer,{...e.outer})})),Oo(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,Oo(l.outer),l},vo=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},Oo=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},Do=e=>"number"==typeof e,So=e=>e<.5?2*e*e:(4-2*e)*e-1,wo={spring:({stiffness:e=.5,damping:t=.75,mass:r=10}={})=>{let n=null,o=null,i=0,s=!1;const a=po({interpolate:(l,c)=>{if(s)return;if(!Do(n)||!Do(o))return s=!0,void(i=0);i+=-(o-n)*e/r,o+=i,i*=t,((e,t,r,n=.001)=>Math.abs(e-t)<n&&Math.abs(r)<n)(o,n,i)||c?(o=n,i=0,s=!0,a.onupdate(o),a.oncomplete(o)):a.onupdate(o)},target:{set:e=>{if(Do(e)&&!Do(o)&&(o=e),null===n&&(n=e,o=e),n=e,o===n||void 0===n)return s=!0,i=0,a.onupdate(o),void a.oncomplete(o);s=!1},get:()=>n},resting:{get:()=>s},onupdate:e=>{},oncomplete:e=>{}});return a},tween:({duration:e=500,easing:t=So,delay:r=0}={})=>{let n,o,i=null,s=!0,a=!1,l=null;const c=po({interpolate:(d,u)=>{s||null===l||(null===i&&(i=d),d-i<r||(n=d-i-r,n>=e||u?(n=1,o=a?0:1,c.onupdate(o*l),c.oncomplete(o*l),s=!0):(o=n/e,c.onupdate((n>=0?t(a?1-o:o):0)*l))))},target:{get:()=>a?0:l,set:e=>{if(null===l)return l=e,c.onupdate(e),void c.oncomplete(e);e<l?(l=1,a=!0):(a=!1,l=e),s=!1,i=null}},resting:{get:()=>s},onupdate:e=>{},oncomplete:e=>{}});return c}},Ao=(e,t,r,n=!1)=>{(t=Array.isArray(t)?t:[t]).forEach((t=>{e.forEach((e=>{let o=e,i=()=>r[e],s=t=>r[e]=t;"object"==typeof e&&(o=e.key,i=e.getter||i,s=e.setter||s),t[o]&&!n||(t[o]={get:i,set:s})}))}))},bo=e=>null!=e,Mo={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Po=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in t)if(t[r]!==e[r])return!0;return!1},Lo=(e,{opacity:t,perspective:r,translateX:n,translateY:o,scaleX:i,scaleY:s,rotateX:a,rotateY:l,rotateZ:c,originX:d,originY:u,width:p,height:f})=>{let h="",E="";(bo(d)||bo(u))&&(E+=`transform-origin: ${d||0}px ${u||0}px;`),bo(r)&&(h+=`perspective(${r}px) `),(bo(n)||bo(o))&&(h+=`translate3d(${n||0}px, ${o||0}px, 0) `),(bo(i)||bo(s))&&(h+=`scale3d(${bo(i)?i:1}, ${bo(s)?s:1}, 1) `),bo(c)&&(h+=`rotateZ(${c}rad) `),bo(a)&&(h+=`rotateX(${a}rad) `),bo(l)&&(h+=`rotateY(${l}rad) `),h.length&&(E+=`transform:${h};`),bo(t)&&(E+=`opacity:${t};`,0===t&&(E+="visibility:hidden;"),t<1&&(E+="pointer-events:none;")),bo(f)&&(E+=`height:${f}px;`),bo(p)&&(E+=`width:${p}px;`);const _=e.elementCurrentStyle||"";E.length===_.length&&E===_||(e.style.cssText=E,e.elementCurrentStyle=E)},Co={styles:({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:n,view:o})=>{const i={...t},s={};Ao(e,[r,n],t);const a=()=>o.rect?Ro(o.rect,o.childViews,[t.translateX||0,t.translateY||0],[t.scaleX||0,t.scaleY||0]):null;return r.rect={get:a},n.rect={get:a},e.forEach((e=>{t[e]=void 0===i[e]?Mo[e]:i[e]})),{write:()=>{if(Po(s,t))return Lo(o.element,t),Object.assign(s,{...t}),!0},destroy:()=>{}}},listeners:({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:n,viewState:o,view:i})=>{const s=[],a=(l=i.element,(e,t)=>{l.addEventListener(e,t)});var l;const c=(e=>(t,r)=>{e.removeEventListener(t,r)})(i.element);return n.on=(e,t)=>{s.push({type:e,fn:t}),a(e,t)},n.off=(e,t)=>{s.splice(s.findIndex((r=>r.type===e&&r.fn===t)),1),c(e,t)},{write:()=>!0,destroy:()=>{s.forEach((e=>{c(e.type,e.fn)}))}}},animations:({mixinConfig:e,viewProps:t,viewInternalAPI:r,viewExternalAPI:n})=>{const o={...t},i=[];return uo(e,((e,s)=>{const a=((e,t,r)=>{const n=e[t]&&"object"==typeof e[t][r]?e[t][r]:e[t]||e,o="string"==typeof n?n:n.type,i="object"==typeof n?{...n}:{};return wo[o]?wo[o](i):null})(s);if(!a)return;a.onupdate=r=>{t[e]=r},a.target=o[e];Ao([{key:e,setter:e=>{a.target!==e&&(a.target=e)},getter:()=>t[e]}],[r,n],t,!0),i.push(a)})),{write:e=>{let t=document.hidden,r=!0;return i.forEach((n=>{n.resting||(r=!1),n.interpolate(e,t)})),r},destroy:()=>{}}},apis:({mixinConfig:e,viewProps:t,viewExternalAPI:r})=>{Ao(e,r,t)}},No=(e={},t={},r={})=>(t.layoutCalculated||(e.paddingTop=parseInt(r.paddingTop,10)||0,e.marginTop=parseInt(r.marginTop,10)||0,e.marginRight=parseInt(r.marginRight,10)||0,e.marginBottom=parseInt(r.marginBottom,10)||0,e.marginLeft=parseInt(r.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=null===t.offsetParent,e),xo=({tag:e="div",name:t=null,attributes:r={},read:n=(()=>{}),write:o=(()=>{}),create:i=(()=>{}),destroy:s=(()=>{}),filterFrameActionsForChild:a=((e,t)=>t),didCreateView:l=(()=>{}),didWriteView:c=(()=>{}),ignoreRect:d=!1,ignoreRectUpdate:u=!1,mixins:p=[]}={})=>(f,h={})=>{const E=_o(e,`filepond--${t}`,r),_=window.getComputedStyle(E,null),m=No();let g=null,T=!1;const I=[],y=[],R={},v={},O=[o],D=[n],S=[s],w=()=>E,A=()=>I.concat(),b=()=>g||(g=Ro(m,I,[0,0],[1,1]),g),M={element:{get:w},style:{get:()=>_},childViews:{get:A}},P={...M,rect:{get:b},ref:{get:()=>R},is:e=>t===e,appendChild:(C=E,(e,t)=>{void 0!==t&&C.children[t]?C.insertBefore(e,C.children[t]):C.appendChild(e)}),createChildView:(L=f,(e,t)=>e(L,t)),linkView:e=>(I.push(e),e),unlinkView:e=>{I.splice(I.indexOf(e),1)},appendChildView:mo(0,I),removeChildView:go(E,I),registerWriter:e=>O.push(e),registerReader:e=>D.push(e),registerDestroyer:e=>S.push(e),invalidateLayout:()=>E.layoutCalculated=!1,dispatch:f.dispatch,query:f.query};var L,C;const N={element:{get:w},childViews:{get:A},rect:{get:b},resting:{get:()=>T},isRectIgnored:()=>d,_read:()=>{g=null,I.forEach((e=>e._read()));!(u&&m.width&&m.height)&&No(m,E,_);const e={root:G,props:h,rect:m};D.forEach((t=>t(e)))},_write:(e,t,r)=>{let n=0===t.length;return O.forEach((o=>{!1===o({props:h,root:G,actions:t,timestamp:e,shouldOptimize:r})&&(n=!1)})),y.forEach((t=>{!1===t.write(e)&&(n=!1)})),I.filter((e=>!!e.element.parentNode)).forEach((o=>{o._write(e,a(o,t),r)||(n=!1)})),I.forEach(((o,i)=>{o.element.parentNode||(G.appendChild(o.element,i),o._read(),o._write(e,a(o,t),r),n=!1)})),T=n,c({props:h,root:G,actions:t,timestamp:e}),n},_destroy:()=>{y.forEach((e=>e.destroy())),S.forEach((e=>{e({root:G,props:h})})),I.forEach((e=>e._destroy()))}},x={...M,rect:{get:()=>m}};Object.keys(p).sort(((e,t)=>"styles"===e?1:"styles"===t?-1:0)).forEach((e=>{const t=Co[e]({mixinConfig:p[e],viewProps:h,viewState:v,viewInternalAPI:P,viewExternalAPI:N,view:po(x)});t&&y.push(t)}));const G=po(P);i({root:G,props:h});const F=yo(E);return I.forEach(((e,t)=>{G.appendChild(e.element,F+t)})),l(G),po(N)},Go=(e,t)=>({root:r,props:n,actions:o=[],timestamp:i,shouldOptimize:s})=>{o.filter((t=>e[t.type])).forEach((t=>e[t.type]({root:r,props:n,action:t.data,timestamp:i,shouldOptimize:s}))),t&&t({root:r,props:n,actions:o,timestamp:i,shouldOptimize:s})},Fo=(e,t)=>t.parentNode.insertBefore(e,t),Uo=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),Vo=e=>Array.isArray(e),Bo=e=>null==e,qo=e=>e.trim(),ko=e=>""+e,Yo=e=>"boolean"==typeof e,Wo=e=>Yo(e)?e:"true"===e,Ho=e=>"string"==typeof e,$o=e=>Do(e)?e:Ho(e)?ko(e).replace(/[a-z]+/gi,""):0,zo=e=>parseInt($o(e),10),Xo=e=>parseFloat($o(e)),jo=e=>Do(e)&&isFinite(e)&&Math.floor(e)===e,Zo=(e,t=1e3)=>{if(jo(e))return e;let r=ko(e).trim();return/MB$/i.test(r)?(r=r.replace(/MB$i/,"").trim(),zo(r)*t*t):/KB/i.test(r)?(r=r.replace(/KB$i/,"").trim(),zo(r)*t):zo(r)},Qo=e=>"function"==typeof e,Ko={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},Jo=(e,t,r,n,o)=>{if(null===t)return null;if("function"==typeof t)return t;const i={url:"GET"===r||"PATCH"===r?`?${e}=`:"",method:r,headers:o,withCredentials:!1,timeout:n,onload:null,ondata:null,onerror:null};if(Ho(t))return i.url=t,i;if(Object.assign(i,t),Ho(i.headers)){const e=i.headers.split(/:(.+)/);i.headers={header:e[0],value:e[1]}}return i.withCredentials=Wo(i.withCredentials),i},ei=e=>"object"==typeof e&&null!==e,ti=e=>Vo(e)?"array":(e=>null===e)(e)?"null":jo(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":(e=>ei(e)&&Ho(e.url)&&ei(e.process)&&ei(e.revert)&&ei(e.restore)&&ei(e.fetch))(e)?"api":typeof e,ri={array:(e,t=",")=>Bo(e)?[]:Vo(e)?e:ko(e).split(t).map(qo).filter((e=>e.length)),boolean:Wo,int:e=>"bytes"===ti(e)?Zo(e):zo(e),number:Xo,float:Xo,bytes:Zo,string:e=>Qo(e)?e:ko(e),function:e=>(e=>{let t=self,r=e.split("."),n=null;for(;n=r.shift();)if(t=t[n],!t)return null;return t})(e),serverapi:e=>(e=>{const t={};return t.url=Ho(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},uo(Ko,(r=>{t[r]=Jo(r,e[r],Ko[r],t.timeout,t.headers)})),t.process=e.process||Ho(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t})(e),object:e=>{try{return JSON.parse(e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'))}catch(e){return null}}},ni=(e,t,r)=>{if(e===t)return e;let n=ti(e);if(n!==r){const t=(o=e,ri[r](o));if(n=ti(t),null===t)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${r}"`;e=t}var o;return e},oi=e=>{const t={};return uo(e,(r=>{const n=e[r];t[r]=((e,t)=>{let r=e;return{enumerable:!0,get:()=>r,set:n=>{r=ni(n,e,t)}}})(n[0],n[1])})),po(t)},ii=(e,t="-")=>e.split(/(?=[A-Z])/).map((e=>e.toLowerCase())).join(t),si=(e,t)=>{const r={};return uo(t,(t=>{r[t]={get:()=>e.getState().options[t],set:r=>{e.dispatch(`SET_${ii(t,"_").toUpperCase()}`,{value:r})}}})),r},ai=e=>(t,r,n)=>{const o={};return uo(e,(e=>{const r=ii(e,"_").toUpperCase();o[`SET_${r}`]=o=>{try{n.options[e]=o.value}catch(e){}t(`DID_SET_${r}`,{value:n.options[e]})}})),o},li=e=>t=>{const r={};return uo(e,(e=>{r[`GET_${ii(e,"_").toUpperCase()}`]=r=>t.options[e]})),r},ci=1,di=2,ui=3,pi=4,fi=5,hi=()=>Math.random().toString(36).substr(2,9),Ei=(e,t)=>e.splice(t,1),_i=()=>{const e=[],t=(t,r)=>{Ei(e,e.findIndex((e=>e.event===t&&(e.cb===r||!r))))},r=(t,r,n)=>{e.filter((e=>e.event===t)).map((e=>e.cb)).forEach((e=>((e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)})((()=>e(...r)),n)))};return{fireSync:(e,...t)=>{r(e,t,!0)},fire:(e,...t)=>{r(e,t,!1)},on:(t,r)=>{e.push({event:t,cb:r})},onOnce:(r,n)=>{e.push({event:r,cb:(...e)=>{t(r,n),n(...e)}})},off:t}},mi=(e,t,r)=>{Object.getOwnPropertyNames(e).filter((e=>!r.includes(e))).forEach((r=>Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))))},gi=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Ti=e=>{const t={};return mi(e,t,gi),t},Ii=1,yi=2,Ri=9,vi=3,Oi=5,Di=6,Si=10,wi=7,Ai=8,bi=1,Mi=2,Pi=3,Li=e=>/[^0-9]+/.exec(e),Ci=()=>Li(1.1.toLocaleString())[0],Ni={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},xi=[],Gi=(e,t,r)=>new Promise(((n,o)=>{const i=xi.filter((t=>t.key===e)).map((e=>e.cb));if(0===i.length)return void n(t);const s=i.shift();i.reduce(((e,t)=>e.then((e=>t(e,r)))),s(t,r)).then((e=>n(e))).catch((e=>o(e)))})),Fi=(e,t,r)=>xi.filter((t=>t.key===e)).map((e=>e.cb(t,r))),Ui=(e,t)=>xi.push({key:e,cb:t}),Vi=()=>({...Bi}),Bi={id:[null,Ni.STRING],name:["filepond",Ni.STRING],disabled:[!1,Ni.BOOLEAN],className:[null,Ni.STRING],required:[!1,Ni.BOOLEAN],captureMethod:[null,Ni.STRING],allowSyncAcceptAttribute:[!0,Ni.BOOLEAN],allowDrop:[!0,Ni.BOOLEAN],allowBrowse:[!0,Ni.BOOLEAN],allowPaste:[!0,Ni.BOOLEAN],allowMultiple:[!1,Ni.BOOLEAN],allowReplace:[!0,Ni.BOOLEAN],allowRevert:[!0,Ni.BOOLEAN],allowRemove:[!0,Ni.BOOLEAN],allowProcess:[!0,Ni.BOOLEAN],allowReorder:[!1,Ni.BOOLEAN],allowDirectoriesOnly:[!1,Ni.BOOLEAN],storeAsFile:[!1,Ni.BOOLEAN],forceRevert:[!1,Ni.BOOLEAN],maxFiles:[null,Ni.INT],checkValidity:[!1,Ni.BOOLEAN],itemInsertLocationFreedom:[!0,Ni.BOOLEAN],itemInsertLocation:["before",Ni.STRING],itemInsertInterval:[75,Ni.INT],dropOnPage:[!1,Ni.BOOLEAN],dropOnElement:[!0,Ni.BOOLEAN],dropValidation:[!1,Ni.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Ni.ARRAY],instantUpload:[!0,Ni.BOOLEAN],maxParallelUploads:[2,Ni.INT],allowMinimumUploadDuration:[!0,Ni.BOOLEAN],chunkUploads:[!1,Ni.BOOLEAN],chunkForce:[!1,Ni.BOOLEAN],chunkSize:[5e6,Ni.INT],chunkRetryDelays:[[500,1e3,3e3],Ni.ARRAY],server:[null,Ni.SERVER_API],fileSizeBase:[1e3,Ni.INT],labelFileSizeBytes:["bytes",Ni.STRING],labelFileSizeKilobytes:["KB",Ni.STRING],labelFileSizeMegabytes:["MB",Ni.STRING],labelFileSizeGigabytes:["GB",Ni.STRING],labelDecimalSeparator:[Ci(),Ni.STRING],labelThousandsSeparator:[(()=>{const e=Ci(),t=1e3.toLocaleString();return t!==1e3.toString()?Li(t)[0]:"."===e?",":"."})(),Ni.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Ni.STRING],labelInvalidField:["Field contains invalid files",Ni.STRING],labelFileWaitingForSize:["Waiting for size",Ni.STRING],labelFileSizeNotAvailable:["Size not available",Ni.STRING],labelFileCountSingular:["file in list",Ni.STRING],labelFileCountPlural:["files in list",Ni.STRING],labelFileLoading:["Loading",Ni.STRING],labelFileAdded:["Added",Ni.STRING],labelFileLoadError:["Error during load",Ni.STRING],labelFileRemoved:["Removed",Ni.STRING],labelFileRemoveError:["Error during remove",Ni.STRING],labelFileProcessing:["Uploading",Ni.STRING],labelFileProcessingComplete:["Upload complete",Ni.STRING],labelFileProcessingAborted:["Upload cancelled",Ni.STRING],labelFileProcessingError:["Error during upload",Ni.STRING],labelFileProcessingRevertError:["Error during revert",Ni.STRING],labelTapToCancel:["tap to cancel",Ni.STRING],labelTapToRetry:["tap to retry",Ni.STRING],labelTapToUndo:["tap to undo",Ni.STRING],labelButtonRemoveItem:["Remove",Ni.STRING],labelButtonAbortItemLoad:["Abort",Ni.STRING],labelButtonRetryItemLoad:["Retry",Ni.STRING],labelButtonAbortItemProcessing:["Cancel",Ni.STRING],labelButtonUndoItemProcessing:["Undo",Ni.STRING],labelButtonRetryItemProcessing:["Retry",Ni.STRING],labelButtonProcessItem:["Upload",Ni.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Ni.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Ni.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Ni.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Ni.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Ni.STRING],oninit:[null,Ni.FUNCTION],onwarning:[null,Ni.FUNCTION],onerror:[null,Ni.FUNCTION],onactivatefile:[null,Ni.FUNCTION],oninitfile:[null,Ni.FUNCTION],onaddfilestart:[null,Ni.FUNCTION],onaddfileprogress:[null,Ni.FUNCTION],onaddfile:[null,Ni.FUNCTION],onprocessfilestart:[null,Ni.FUNCTION],onprocessfileprogress:[null,Ni.FUNCTION],onprocessfileabort:[null,Ni.FUNCTION],onprocessfilerevert:[null,Ni.FUNCTION],onprocessfile:[null,Ni.FUNCTION],onprocessfiles:[null,Ni.FUNCTION],onremovefile:[null,Ni.FUNCTION],onpreparefile:[null,Ni.FUNCTION],onupdatefiles:[null,Ni.FUNCTION],onreorderfiles:[null,Ni.FUNCTION],beforeDropFile:[null,Ni.FUNCTION],beforeAddFile:[null,Ni.FUNCTION],beforeRemoveFile:[null,Ni.FUNCTION],beforePrepareFile:[null,Ni.FUNCTION],stylePanelLayout:[null,Ni.STRING],stylePanelAspectRatio:[null,Ni.STRING],styleItemPanelAspectRatio:[null,Ni.STRING],styleButtonRemoveItemPosition:["left",Ni.STRING],styleButtonProcessItemPosition:["right",Ni.STRING],styleLoadIndicatorPosition:["right",Ni.STRING],styleProgressIndicatorPosition:["right",Ni.STRING],styleButtonRemoveItemAlign:[!1,Ni.BOOLEAN],files:[[],Ni.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],Ni.ARRAY]},qi=(e,t)=>Bo(t)?e[0]||null:jo(t)?e[t]||null:("object"==typeof t&&(t=t.id),e.find((e=>e.id===t))||null),ki=e=>{if(Bo(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},Yi=e=>e.filter((e=>!e.archived)),Wi={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let Hi=null;const $i=[Ai,Di,Si],zi=[wi,vi,Ri,Ii],Xi=[Oi],ji=e=>$i.includes(e.status),Zi=e=>zi.includes(e.status),Qi=e=>Xi.includes(e.status),Ki=e=>ei(e.options.server)&&(ei(e.options.server.process)||Qo(e.options.server.process)),Ji=e=>({GET_STATUS:()=>{const t=Yi(e.items),{EMPTY:r,ERROR:n,BUSY:o,IDLE:i,READY:s}=Wi;return 0===t.length?r:t.some(ji)?n:t.some(Zi)?o:t.some(Qi)?s:i},GET_ITEM:t=>qi(e.items,t),GET_ACTIVE_ITEM:t=>qi(Yi(e.items),t),GET_ACTIVE_ITEMS:()=>Yi(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const r=qi(e.items,t);return r?r.filename:null},GET_ITEM_SIZE:t=>{const r=qi(e.items,t);return r?r.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter((e=>/^style/.test(e))).map((t=>({name:t,value:e.options[t]}))),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:ki(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>Yi(e.items).filter((e=>e.status===t)),GET_TOTAL_ITEMS:()=>Yi(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&(()=>{if(null===Hi)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,Hi=1===t.files.length}catch(e){Hi=!1}return Hi})()&&!Ki(e),IS_ASYNC:()=>Ki(e),GET_FILE_SIZE_LABELS:e=>({labelBytes:e("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:e("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:e("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:e("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),es=(e,t,r)=>Math.max(Math.min(r,e),t),ts=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),rs=e=>e.split("/").pop().split("?").shift(),ns=e=>e.split(".").pop(),os=(e,t="")=>(t+e).slice(-t.length),is=(e=new Date)=>`${e.getFullYear()}-${os(e.getMonth()+1,"00")}-${os(e.getDate(),"00")}_${os(e.getHours(),"00")}-${os(e.getMinutes(),"00")}-${os(e.getSeconds(),"00")}`,ss=(e,t,r=null,n=null)=>{const o="string"==typeof r?e.slice(0,e.size,r):e.slice(0,e.size,e.type);return o.lastModifiedDate=new Date,e._relativePath&&(o._relativePath=e._relativePath),Ho(t)||(t=is()),t&&null===n&&ns(t)?o.name=t:(n=n||(e=>{if("string"!=typeof e)return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?"jpeg"===t?"jpg":t:""})(o.type),o.name=t+(n?"."+n:"")),o},as=(e,t)=>{const r=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(r){const n=new r;return n.append(e),n.getBlob(t)}return new Blob([e],{type:t})},ls=e=>(/^data:(.+);/.exec(e)||[])[1]||null,cs=e=>{const t=ls(e),r=(e=>atob((e=>e.split(",")[1].replace(/\s/g,""))(e)))(e);return((e,t)=>{const r=new ArrayBuffer(e.length),n=new Uint8Array(r);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return as(r,t)})(r,t)},ds=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map((e=>e.trim().replace(/^["']|[;"']{0,2}$/g,""))).filter((e=>e.length));return t.length?decodeURI(t[t.length-1]):null},us=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},ps=e=>{if(/x-content-transfer-id:/i.test(e)){return(e.split(":")[1]||"").trim()||null}return null},fs=e=>{const t={source:null,name:null,size:null},r=e.split("\n");for(let e of r){const r=ds(e);if(r){t.name=r;continue}const n=us(e);if(n){t.size=n;continue}const o=ps(e);o&&(t.source=o)}return t},hs=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},r=r=>{e?(t.timestamp=Date.now(),t.request=e(r,(e=>{t.duration=Date.now()-t.timestamp,t.complete=!0,e instanceof Blob&&(e=ss(e,e.name||rs(r))),n.fire("load",e instanceof Blob?e:e?e.body:null)}),(e=>{n.fire("error","string"==typeof e?{type:"error",code:0,body:e}:e)}),((e,r,o)=>{o&&(t.size=o),t.duration=Date.now()-t.timestamp,e?(t.progress=r/o,n.fire("progress",t.progress)):t.progress=null}),(()=>{n.fire("abort")}),(e=>{const r=fs("string"==typeof e?e:e.headers);n.fire("meta",{size:t.size||r.size,filename:r.name,source:r.source})}))):n.fire("error",{type:"error",body:"Can't load URL",code:400})},n={..._i(),setSource:e=>t.source=e,getProgress:()=>t.progress,abort:()=>{t.request&&t.request.abort&&t.request.abort()},load:()=>{const e=t.source;var o,i;n.fire("init",e),e instanceof File?n.fire("load",e):e instanceof Blob?n.fire("load",ss(e,e.name)):ts(e)?n.fire("load",ss(cs(e),o,null,i)):r(e)}};return n},Es=e=>/GET|HEAD/.test(e),_s=(e,t,r)=>{const n={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{o=!0,s.abort()}};let o=!1,i=!1;r={method:"POST",headers:{},withCredentials:!1,...r},t=encodeURI(t),Es(r.method)&&e&&(t=`${t}${encodeURIComponent("string"==typeof e?e:JSON.stringify(e))}`);const s=new XMLHttpRequest;return(Es(r.method)?s:s.upload).onprogress=e=>{o||n.onprogress(e.lengthComputable,e.loaded,e.total)},s.onreadystatechange=()=>{s.readyState<2||4===s.readyState&&0===s.status||i||(i=!0,n.onheaders(s))},s.onload=()=>{s.status>=200&&s.status<300?n.onload(s):n.onerror(s)},s.onerror=()=>n.onerror(s),s.onabort=()=>{o=!0,n.onabort()},s.ontimeout=()=>n.ontimeout(s),s.open(r.method,t,!0),jo(r.timeout)&&(s.timeout=r.timeout),Object.keys(r.headers).forEach((e=>{const t=unescape(encodeURIComponent(r.headers[e]));s.setRequestHeader(e,t)})),r.responseType&&(s.responseType=r.responseType),r.withCredentials&&(s.withCredentials=!0),s.send(e),n},ms=(e,t,r,n)=>({type:e,code:t,body:r,headers:n}),gs=e=>t=>{e(ms("error",0,"Timeout",t.getAllResponseHeaders()))},Ts=e=>/\?/.test(e),Is=(...e)=>{let t="";return e.forEach((e=>{t+=Ts(t)&&Ts(e)?e.replace(/\?/,"&"):e})),t},ys=(e="",t)=>{if("function"==typeof t)return t;if(!t||!Ho(t.url))return null;const r=t.onload||(e=>e),n=t.onerror||(e=>null);return(o,i,s,a,l,c)=>{const d=_s(o,Is(e,t.url),{...t,responseType:"blob"});return d.onload=e=>{const n=e.getAllResponseHeaders(),s=fs(n).name||rs(o);i(ms("load",e.status,"HEAD"===t.method?null:ss(r(e.response),s),n))},d.onerror=e=>{s(ms("error",e.status,n(e.response)||e.statusText,e.getAllResponseHeaders()))},d.onheaders=e=>{c(ms("headers",e.status,null,e.getAllResponseHeaders()))},d.ontimeout=gs(s),d.onprogress=a,d.onabort=l,d}},Rs=0,vs=1,Os=2,Ds=3,Ss=4,ws=(e,t,r,n,o,i,s,a,l,c,d)=>{const u=[],{chunkTransferId:p,chunkServer:f,chunkSize:h,chunkRetryDelays:E}=d,_={serverId:p,aborted:!1},m=t.ondata||(e=>e),g=t.onload||((e,t)=>"HEAD"===t?e.getResponseHeader("Upload-Offset"):e.response),T=t.onerror||(e=>null),I=Math.floor(n.size/h);for(let e=0;e<=I;e++){const t=e*h,r=n.slice(t,t+h,"application/offset+octet-stream");u[e]={index:e,size:r.size,offset:t,data:r,file:n,progress:0,retries:[...E],status:Rs,error:null,request:null,timeout:null}}const y=e=>e.status===Rs||e.status===Ds,R=t=>{if(_.aborted)return;if(!(t=t||u.find(y)))return void(u.every((e=>e.status===vs))&&i(_.serverId));t.status=Os,t.progress=null;const r=f.ondata||(e=>e),o=f.onerror||(e=>null),a=Is(e,f.url,_.serverId),c="function"==typeof f.headers?f.headers(t):{...f.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":t.offset,"Upload-Length":n.size,"Upload-Name":n.name},d=t.request=_s(r(t.data),a,{...f,headers:c});d.onload=()=>{t.status=vs,t.request=null,D()},d.onprogress=(e,r,n)=>{t.progress=e?r:null,O()},d.onerror=e=>{t.status=Ds,t.request=null,t.error=o(e.response)||e.statusText,v(t)||s(ms("error",e.status,o(e.response)||e.statusText,e.getAllResponseHeaders()))},d.ontimeout=e=>{t.status=Ds,t.request=null,v(t)||gs(s)(e)},d.onabort=()=>{t.status=Rs,t.request=null,l()}},v=e=>0!==e.retries.length&&(e.status=Ss,clearTimeout(e.timeout),e.timeout=setTimeout((()=>{R(e)}),e.retries.shift()),!0),O=()=>{const e=u.reduce(((e,t)=>null===e||null===t.progress?null:e+t.progress),0);if(null===e)return a(!1,0,0);const t=u.reduce(((e,t)=>e+t.size),0);a(!0,e,t)},D=()=>{u.filter((e=>e.status===Os)).length>=1||R()};return _.serverId?(r=>{const n=Is(e,f.url,_.serverId),o={headers:"function"==typeof t.headers?t.headers(_.serverId):{...t.headers},method:"HEAD"},i=_s(null,n,o);i.onload=e=>r(g(e,o.method)),i.onerror=e=>s(ms("error",e.status,T(e.response)||e.statusText,e.getAllResponseHeaders())),i.ontimeout=gs(s)})((e=>{_.aborted||(u.filter((t=>t.offset<e)).forEach((e=>{e.status=vs,e.progress=e.size})),D())})):(i=>{const a=new FormData;ei(o)&&a.append(r,JSON.stringify(o));const l="function"==typeof t.headers?t.headers(n,o):{...t.headers,"Upload-Length":n.size},c={...t,headers:l},d=_s(m(a),Is(e,t.url),c);d.onload=e=>i(g(e,c.method)),d.onerror=e=>s(ms("error",e.status,T(e.response)||e.statusText,e.getAllResponseHeaders())),d.ontimeout=gs(s)})((e=>{_.aborted||(c(e),_.serverId=e,D())})),{abort:()=>{_.aborted=!0,u.forEach((e=>{clearTimeout(e.timeout),e.request&&e.request.abort()}))}}},As=(e="",t,r,n)=>"function"==typeof t?(...e)=>t(r,...e,n):t&&Ho(t.url)?((e,t,r,n)=>(o,i,s,a,l,c,d)=>{if(!o)return;const u=n.chunkUploads,p=u&&o.size>n.chunkSize,f=u&&(p||n.chunkForce);if(o instanceof Blob&&f)return ws(e,t,r,o,i,s,a,l,c,d,n);const h=t.ondata||(e=>e),E=t.onload||(e=>e),_=t.onerror||(e=>null),m="function"==typeof t.headers?t.headers(o,i)||{}:{...t.headers},g={...t,headers:m};var T=new FormData;ei(i)&&T.append(r,JSON.stringify(i)),(o instanceof Blob?[{name:null,file:o}]:o).forEach((e=>{T.append(r,e.file,null===e.name?e.file.name:`${e.name}${e.file.name}`)}));const I=_s(h(T),Is(e,t.url),g);return I.onload=e=>{s(ms("load",e.status,E(e.response),e.getAllResponseHeaders()))},I.onerror=e=>{a(ms("error",e.status,_(e.response)||e.statusText,e.getAllResponseHeaders()))},I.ontimeout=gs(a),I.onprogress=l,I.onabort=c,I})(e,t,r,n):null,bs=(e="",t)=>{if("function"==typeof t)return t;if(!t||!Ho(t.url))return(e,t)=>t();const r=t.onload||(e=>e),n=t.onerror||(e=>null);return(o,i,s)=>{const a=_s(o,e+t.url,t);return a.onload=e=>{i(ms("load",e.status,r(e.response),e.getAllResponseHeaders()))},a.onerror=e=>{s(ms("error",e.status,n(e.response)||e.statusText,e.getAllResponseHeaders()))},a.ontimeout=gs(s),a}},Ms=(e=0,t=1)=>e+Math.random()*(t-e),Ps=(e,t)=>{const r={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:n}=t,o=()=>{r.request&&(r.perceivedPerformanceUpdater.clear(),r.request.abort&&r.request.abort(),r.complete=!0)},i=n?()=>r.progress?Math.min(r.progress,r.perceivedProgress):null:()=>r.progress||null,s=n?()=>Math.min(r.duration,r.perceivedDuration):()=>r.duration,a={..._i(),process:(t,o)=>{const i=()=>{0!==r.duration&&null!==r.progress&&a.fire("progress",a.getProgress())},s=()=>{r.complete=!0,a.fire("load-perceived",r.response.body)};a.fire("start"),r.timestamp=Date.now(),r.perceivedPerformanceUpdater=((e,t=1e3,r=0,n=25,o=250)=>{let i=null;const s=Date.now(),a=()=>{let r=Date.now()-s,l=Ms(n,o);r+l>t&&(l=r+l-t);let c=r/t;c>=1||document.hidden?e(1):(e(c),i=setTimeout(a,l))};return t>0&&a(),{clear:()=>{clearTimeout(i)}}})((e=>{r.perceivedProgress=e,r.perceivedDuration=Date.now()-r.timestamp,i(),r.response&&1===r.perceivedProgress&&!r.complete&&s()}),n?Ms(750,1500):0),r.request=e(t,o,(e=>{r.response=ei(e)?e:{type:"load",code:200,body:`${e}`,headers:{}},r.duration=Date.now()-r.timestamp,r.progress=1,a.fire("load",r.response.body),(!n||n&&1===r.perceivedProgress)&&s()}),(e=>{r.perceivedPerformanceUpdater.clear(),a.fire("error",ei(e)?e:{type:"error",code:0,body:`${e}`})}),((e,t,n)=>{r.duration=Date.now()-r.timestamp,r.progress=e?t/n:null,i()}),(()=>{r.perceivedPerformanceUpdater.clear(),a.fire("abort",r.response?r.response.body:null)}),(e=>{a.fire("transfer",e)}))},abort:o,getProgress:i,getDuration:s,reset:()=>{o(),r.complete=!1,r.perceivedProgress=0,r.progress=0,r.timestamp=null,r.perceivedDuration=0,r.duration=0,r.request=null,r.response=null}};return a},Ls=e=>e.substr(0,e.lastIndexOf("."))||e,Cs=e=>!!(e instanceof File||e instanceof Blob&&e.name),Ns=e=>{if(!ei(e))return e;const t=Vo(e)?[]:{};for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r];t[r]=n&&ei(n)?Ns(n):n}return t},xs=(e=null,t=null,r=null)=>{const n=hi(),o={archived:!1,frozen:!1,released:!1,source:null,file:r,serverFileReference:t,transferId:null,processingAborted:!1,status:t?Oi:Ii,activeLoader:null,activeProcessor:null};let i=null;const s={},a=e=>o.status=e,l=(e,...t)=>{o.released||o.frozen||u.fire(e,...t)},c=(e,t)=>{if(o.processingAborted)return void(o.processingAborted=!1);if(a(vi),i=null,!(o.file instanceof Blob))return void u.on("load",(()=>{c(e,t)}));e.on("load",(e=>{o.transferId=null,o.serverFileReference=e})),e.on("transfer",(e=>{o.transferId=e})),e.on("load-perceived",(e=>{o.activeProcessor=null,o.transferId=null,o.serverFileReference=e,a(Oi),l("process-complete",e)})),e.on("start",(()=>{l("process-start")})),e.on("error",(e=>{o.activeProcessor=null,a(Di),l("process-error",e)})),e.on("abort",(e=>{o.activeProcessor=null,o.serverFileReference=e,a(yi),l("process-abort"),i&&i()})),e.on("progress",(e=>{l("process-progress",e)}));const r=console.error;t(o.file,(t=>{o.archived||e.process(t,{...s})}),r),o.activeProcessor=e},d=(e,t,r)=>{const n=e.split("."),o=n[0],i=n.pop();let a=s;n.forEach((e=>a=a[e])),JSON.stringify(a[i])!==JSON.stringify(t)&&(a[i]=t,l("metadata-update",{key:o,value:s[o],silent:r}))},u={id:{get:()=>n},origin:{get:()=>e,set:t=>e=t},serverId:{get:()=>o.serverFileReference},transferId:{get:()=>o.transferId},status:{get:()=>o.status},filename:{get:()=>o.file.name},filenameWithoutExtension:{get:()=>Ls(o.file.name)},fileExtension:{get:()=>ns(o.file.name)},fileType:{get:()=>o.file.type},fileSize:{get:()=>o.file.size},file:{get:()=>o.file},relativePath:{get:()=>o.file._relativePath},source:{get:()=>o.source},getMetadata:e=>Ns(e?s[e]:s),setMetadata:(e,t,r)=>{if(ei(e)){const r=e;return Object.keys(r).forEach((e=>{d(e,r[e],t)})),e}return d(e,t,r),t},extend:(e,t)=>p[e]=t,abortLoad:()=>{o.activeLoader?o.activeLoader.abort():(a(Ii),l("load-abort"))},retryLoad:()=>{o.activeLoader&&o.activeLoader.load()},requestProcessing:()=>{o.processingAborted=!1,a(Ri)},abortProcessing:()=>new Promise((e=>{if(!o.activeProcessor)return o.processingAborted=!0,a(yi),l("process-abort"),void e();i=()=>{e()},o.activeProcessor.abort()})),load:(t,r,n)=>{o.source=t,u.fireSync("init"),o.file?u.fireSync("load-skip"):(o.file=(e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||ts(e)?t[0]=e.name||is():ts(e)?(t[1]=e.length,t[2]=ls(e)):Ho(e)&&(t[0]=rs(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}})(t),r.on("init",(()=>{l("load-init")})),r.on("meta",(t=>{o.file.size=t.size,o.file.filename=t.filename,t.source&&(e=Mi,o.serverFileReference=t.source,o.status=Oi),l("load-meta")})),r.on("progress",(e=>{a(wi),l("load-progress",e)})),r.on("error",(e=>{a(Ai),l("load-request-error",e)})),r.on("abort",(()=>{a(Ii),l("load-abort")})),r.on("load",(t=>{o.activeLoader=null;const r=t=>{o.file=Cs(t)?t:o.file,e===Mi&&o.serverFileReference?a(Oi):a(yi),l("load")};o.serverFileReference?r(t):n(t,r,(e=>{o.file=t,l("load-meta"),a(Ai),l("load-file-error",e)}))})),r.setSource(t),o.activeLoader=r,r.load())},process:c,revert:(e,t)=>new Promise(((r,n)=>{const i=null!==o.serverFileReference?o.serverFileReference:o.transferId;null!==i?(e(i,(()=>{o.serverFileReference=null,o.transferId=null,r()}),(e=>{t?(a(Si),l("process-revert-error"),n(e)):r()})),a(yi),l("process-revert")):r()})),..._i(),freeze:()=>o.frozen=!0,release:()=>o.released=!0,released:{get:()=>o.released},archive:()=>o.archived=!0,archived:{get:()=>o.archived}},p=po(u);return p},Gs=(e,t)=>{const r=((e,t)=>Bo(t)?0:Ho(t)?e.findIndex((e=>e.id===t)):-1)(e,t);if(!(r<0))return e[r]||null},Fs=(e,t,r,n,o,i)=>{const s=_s(null,e,{method:"GET",responseType:"blob"});return s.onload=r=>{const n=r.getAllResponseHeaders(),o=fs(n).name||rs(e);t(ms("load",r.status,ss(r.response,o),n))},s.onerror=e=>{r(ms("error",e.status,e.statusText,e.getAllResponseHeaders()))},s.onheaders=e=>{i(ms("headers",e.status,null,e.getAllResponseHeaders()))},s.ontimeout=gs(r),s.onprogress=n,s.onabort=o,s},Us=e=>(0===e.indexOf("//")&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),Vs=e=>(...t)=>Qo(e)?e(...t):e,Bs=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout((()=>{e("DID_UPDATE_ITEMS",{items:Yi(t.items)})}),0)},qs=(e,...t)=>new Promise((r=>{if(!e)return r(!0);const n=e(...t);return null==n?r(!0):"boolean"==typeof n?r(n):void("function"==typeof n.then&&n.then(r))})),ks=(e,t)=>{e.items.sort(((e,r)=>t(Ti(e),Ti(r))))},Ys=(e,t)=>({query:r,success:n=(()=>{}),failure:o=(()=>{}),...i}={})=>{const s=qi(e.items,r);s?t(s,n,o,i||{}):o({error:ms("error",0,"Item not found"),file:null})},Ws=(e,t,r)=>({ABORT_ALL:()=>{Yi(r.items).forEach((e=>{e.freeze(),e.abortLoad(),e.abortProcessing()}))},DID_SET_FILES:({value:t=[]})=>{const n=t.map((e=>({source:e.source?e.source:e,options:e.options})));let o=Yi(r.items);o.forEach((t=>{n.find((e=>e.source===t.source||e.source===t.file))||e("REMOVE_ITEM",{query:t,remove:!1})})),o=Yi(r.items),n.forEach(((t,r)=>{o.find((e=>e.source===t.source||e.file===t.source))||e("ADD_ITEM",{...t,interactionMethod:fi,index:r})}))},DID_UPDATE_ITEM_METADATA:({id:n,action:o,change:i})=>{i.silent||(clearTimeout(r.itemUpdateTimeout),r.itemUpdateTimeout=setTimeout((()=>{const s=Gs(r.items,n);if(!t("IS_ASYNC"))return void Gi("SHOULD_PREPARE_OUTPUT",!1,{item:s,query:t,action:o,change:i}).then((r=>{const o=t("GET_BEFORE_PREPARE_FILE");o&&(r=o(s,r)),r&&e("REQUEST_PREPARE_OUTPUT",{query:n,item:s,success:t=>{e("DID_PREPARE_OUTPUT",{id:n,file:t})}},!0)}));s.origin===Pi&&e("DID_LOAD_ITEM",{id:s.id,error:null,serverFileReference:s.source});const a=()=>{setTimeout((()=>{e("REQUEST_ITEM_PROCESSING",{query:n})}),32)};return s.status===Oi?(l=r.options.instantUpload,void s.revert(bs(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(l?a:()=>{}).catch((()=>{}))):s.status===vi?(e=>{s.abortProcessing().then(e?a:()=>{})})(r.options.instantUpload):void(r.options.instantUpload&&a());var l}),0))},MOVE_ITEM:({query:e,index:t})=>{const n=qi(r.items,e);if(!n)return;const o=r.items.indexOf(n);o!==(t=es(t,0,r.items.length-1))&&r.items.splice(t,0,r.items.splice(o,1)[0])},SORT:({compare:n})=>{ks(r,n),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:r,index:n,interactionMethod:o,success:i=(()=>{}),failure:s=(()=>{})})=>{let a=n;if(-1===n||void 0===n){const e=t("GET_ITEM_INSERT_LOCATION"),r=t("GET_TOTAL_ITEMS");a="before"===e?0:r}const l=t("GET_IGNORED_FILES"),c=r.filter((e=>Cs(e)?!l.includes(e.name.toLowerCase()):!Bo(e))).map((t=>new Promise(((r,n)=>{e("ADD_ITEM",{interactionMethod:o,source:t.source||t,success:r,failure:n,index:a++,options:t.options||{}})}))));Promise.all(c).then(i).catch(s)},ADD_ITEM:({source:n,index:o=-1,interactionMethod:i,success:s=(()=>{}),failure:a=(()=>{}),options:l={}})=>{if(Bo(n))return void a({error:ms("error",0,"No source"),file:null});if(Cs(n)&&r.options.ignoredFiles.includes(n.name.toLowerCase()))return;if(!(e=>{const t=Yi(e.items).length;if(!e.options.allowMultiple)return 0===t;const r=e.options.maxFiles;return null===r||t<r})(r)){if(r.options.allowMultiple||!r.options.allowMultiple&&!r.options.allowReplace){const t=ms("warning",0,"Max files");return e("DID_THROW_MAX_FILES",{source:n,error:t}),void a({error:t,file:null})}const c=Yi(r.items)[0];if(c.status===Oi||c.status===Si){const d=t("GET_FORCE_REVERT");if(c.revert(bs(r.options.server.url,r.options.server.revert),d).then((()=>{d&&e("ADD_ITEM",{source:n,index:o,interactionMethod:i,success:s,failure:a,options:l})})).catch((()=>{})),d)return}e("REMOVE_ITEM",{query:c.id})}const c="local"===l.type?Pi:"limbo"===l.type?Mi:bi,d=xs(c,c===bi?null:n,l.file);Object.keys(l.metadata||{}).forEach((e=>{d.setMetadata(e,l.metadata[e])})),Fi("DID_CREATE_ITEM",d,{query:t,dispatch:e});const u=t("GET_ITEM_INSERT_LOCATION");r.options.itemInsertLocationFreedom||(o="before"===u?-1:r.items.length),((e,t,r)=>{Bo(t)||(void 0===r?e.push(t):((e,t,r)=>{e.splice(t,0,r)})(e,r=es(r,0,e.length),t))})(r.items,d,o),Qo(u)&&n&&ks(r,u);const p=d.id;d.on("init",(()=>{e("DID_INIT_ITEM",{id:p})})),d.on("load-init",(()=>{e("DID_START_ITEM_LOAD",{id:p})})),d.on("load-meta",(()=>{e("DID_UPDATE_ITEM_META",{id:p})})),d.on("load-progress",(t=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:p,progress:t})})),d.on("load-request-error",(t=>{const n=Vs(r.options.labelFileLoadError)(t);if(t.code>=400&&t.code<500)return e("DID_THROW_ITEM_INVALID",{id:p,error:t,status:{main:n,sub:`${t.code} (${t.body})`}}),void a({error:t,file:Ti(d)});e("DID_THROW_ITEM_LOAD_ERROR",{id:p,error:t,status:{main:n,sub:r.options.labelTapToRetry}})})),d.on("load-file-error",(t=>{e("DID_THROW_ITEM_INVALID",{id:p,error:t.status,status:t.status}),a({error:t.status,file:Ti(d)})})),d.on("load-abort",(()=>{e("REMOVE_ITEM",{query:p})})),d.on("load-skip",(()=>{e("COMPLETE_LOAD_ITEM",{query:p,item:d,data:{source:n,success:s}})})),d.on("load",(()=>{const o=o=>{o?(d.on("metadata-update",(t=>{e("DID_UPDATE_ITEM_METADATA",{id:p,change:t})})),Gi("SHOULD_PREPARE_OUTPUT",!1,{item:d,query:t}).then((o=>{const i=t("GET_BEFORE_PREPARE_FILE");i&&(o=i(d,o));const a=()=>{e("COMPLETE_LOAD_ITEM",{query:p,item:d,data:{source:n,success:s}}),Bs(e,r)};o?e("REQUEST_PREPARE_OUTPUT",{query:p,item:d,success:t=>{e("DID_PREPARE_OUTPUT",{id:p,file:t}),a()}},!0):a()}))):e("REMOVE_ITEM",{query:p})};Gi("DID_LOAD_ITEM",d,{query:t,dispatch:e}).then((()=>{qs(t("GET_BEFORE_ADD_FILE"),Ti(d)).then(o)})).catch((t=>{if(!t||!t.error||!t.status)return o(!1);e("DID_THROW_ITEM_INVALID",{id:p,error:t.error,status:t.status})}))})),d.on("process-start",(()=>{e("DID_START_ITEM_PROCESSING",{id:p})})),d.on("process-progress",(t=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:p,progress:t})})),d.on("process-error",(t=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:p,error:t,status:{main:Vs(r.options.labelFileProcessingError)(t),sub:r.options.labelTapToRetry}})})),d.on("process-revert-error",(t=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:p,error:t,status:{main:Vs(r.options.labelFileProcessingRevertError)(t),sub:r.options.labelTapToRetry}})})),d.on("process-complete",(t=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:p,error:null,serverFileReference:t}),e("DID_DEFINE_VALUE",{id:p,value:t})})),d.on("process-abort",(()=>{e("DID_ABORT_ITEM_PROCESSING",{id:p})})),d.on("process-revert",(()=>{e("DID_REVERT_ITEM_PROCESSING",{id:p}),e("DID_DEFINE_VALUE",{id:p,value:null})})),e("DID_ADD_ITEM",{id:p,index:o,interactionMethod:i}),Bs(e,r);const{url:f,load:h,restore:E,fetch:_}=r.options.server||{};d.load(n,hs(c===bi?Ho(n)&&(e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&Us(location.href)!==Us(e))(n)&&_?ys(f,_):Fs:ys(f,c===Mi?E:h)),((e,r,n)=>{Gi("LOAD_FILE",e,{query:t}).then(r).catch(n)}))},REQUEST_PREPARE_OUTPUT:({item:e,success:r,failure:n=(()=>{})})=>{const o={error:ms("error",0,"Item not found"),file:null};if(e.archived)return n(o);Gi("PREPARE_OUTPUT",e.file,{query:t,item:e}).then((i=>{Gi("COMPLETE_PREPARE_OUTPUT",i,{query:t,item:e}).then((t=>{if(e.archived)return n(o);r(t)}))}))},COMPLETE_LOAD_ITEM:({item:n,data:o})=>{const{success:i,source:s}=o,a=t("GET_ITEM_INSERT_LOCATION");if(Qo(a)&&s&&ks(r,a),e("DID_LOAD_ITEM",{id:n.id,error:null,serverFileReference:n.origin===bi?null:s}),i(Ti(n)),n.origin!==Pi)return n.origin===Mi?(e("DID_COMPLETE_ITEM_PROCESSING",{id:n.id,error:null,serverFileReference:s}),void e("DID_DEFINE_VALUE",{id:n.id,value:n.serverId||s})):void(t("IS_ASYNC")&&r.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:n.id}));e("DID_LOAD_LOCAL_ITEM",{id:n.id})},RETRY_ITEM_LOAD:Ys(r,(e=>{e.retryLoad()})),REQUEST_ITEM_PREPARE:Ys(r,((t,r,n)=>{e("REQUEST_PREPARE_OUTPUT",{query:t.id,item:t,success:n=>{e("DID_PREPARE_OUTPUT",{id:t.id,file:n}),r({file:t,output:n})},failure:n},!0)})),REQUEST_ITEM_PROCESSING:Ys(r,((n,o,i)=>{if(n.status===yi||n.status===Di)n.status!==Ri&&(n.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:n.id}),e("PROCESS_ITEM",{query:n,success:o,failure:i},!0));else{const s=()=>e("REQUEST_ITEM_PROCESSING",{query:n,success:o,failure:i}),a=()=>document.hidden?s():setTimeout(s,32);n.status===Oi||n.status===Si?n.revert(bs(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then(a).catch((()=>{})):n.status===vi&&n.abortProcessing().then(a)}})),PROCESS_ITEM:Ys(r,((n,o,i)=>{const s=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",vi).length===s)return void r.processingQueue.push({id:n.id,success:o,failure:i});if(n.status===vi)return;const a=()=>{const t=r.processingQueue.shift();if(!t)return;const{id:n,success:o,failure:i}=t,s=qi(r.items,n);s&&!s.archived?e("PROCESS_ITEM",{query:n,success:o,failure:i},!0):a()};n.onOnce("process-complete",(()=>{o(Ti(n)),a();const i=r.options.server;if(r.options.instantUpload&&n.origin===Pi&&Qo(i.remove)){const e=()=>{};n.origin=Mi,r.options.server.remove(n.source,e,e)}t("GET_ITEMS_BY_STATUS",Oi).length===r.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")})),n.onOnce("process-error",(e=>{i({error:e,file:Ti(n)}),a()}));const l=r.options;n.process(Ps(As(l.server.url,l.server.process,l.name,{chunkTransferId:n.transferId,chunkServer:l.server.patch,chunkUploads:l.chunkUploads,chunkForce:l.chunkForce,chunkSize:l.chunkSize,chunkRetryDelays:l.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),((r,o,i)=>{Gi("PREPARE_OUTPUT",r,{query:t,item:n}).then((t=>{e("DID_PREPARE_OUTPUT",{id:n.id,file:t}),o(t)})).catch(i)}))})),RETRY_ITEM_PROCESSING:Ys(r,(t=>{e("REQUEST_ITEM_PROCESSING",{query:t})})),REQUEST_REMOVE_ITEM:Ys(r,(r=>{qs(t("GET_BEFORE_REMOVE_FILE"),Ti(r)).then((t=>{t&&e("REMOVE_ITEM",{query:r})}))})),RELEASE_ITEM:Ys(r,(e=>{e.release()})),REMOVE_ITEM:Ys(r,((n,o,i,s)=>{const a=()=>{const t=n.id;Gs(r.items,t).archive(),e("DID_REMOVE_ITEM",{error:null,id:t,item:n}),Bs(e,r),o(Ti(n))},l=r.options.server;n.origin===Pi&&l&&Qo(l.remove)&&!1!==s.remove?(e("DID_START_ITEM_REMOVE",{id:n.id}),l.remove(n.source,(()=>a()),(t=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:n.id,error:ms("error",0,t,null),status:{main:Vs(r.options.labelFileRemoveError)(t),sub:r.options.labelTapToRetry}})}))):((s.revert&&n.origin!==Pi&&null!==n.serverId||r.options.chunkUploads&&n.file.size>r.options.chunkSize||r.options.chunkUploads&&r.options.chunkForce)&&n.revert(bs(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")),a())})),ABORT_ITEM_LOAD:Ys(r,(e=>{e.abortLoad()})),ABORT_ITEM_PROCESSING:Ys(r,(t=>{t.serverId?e("REVERT_ITEM_PROCESSING",{id:t.id}):t.abortProcessing().then((()=>{r.options.instantUpload&&e("REMOVE_ITEM",{query:t.id})}))})),REQUEST_REVERT_ITEM_PROCESSING:Ys(r,(n=>{if(!r.options.instantUpload)return void e("REVERT_ITEM_PROCESSING",{query:n});const o=t=>{t&&e("REVERT_ITEM_PROCESSING",{query:n})},i=t("GET_BEFORE_REMOVE_FILE");if(!i)return o(!0);const s=i(Ti(n));return null==s?o(!0):"boolean"==typeof s?o(s):void("function"==typeof s.then&&s.then(o))})),REVERT_ITEM_PROCESSING:Ys(r,(n=>{n.revert(bs(r.options.server.url,r.options.server.revert),t("GET_FORCE_REVERT")).then((()=>{const t=r.options.instantUpload||(e=>!Cs(e.file))(n);t&&e("REMOVE_ITEM",{query:n.id})})).catch((()=>{}))})),SET_OPTIONS:({options:t})=>{const r=Object.keys(t),n=Hs.filter((e=>r.includes(e)));[...n,...Object.keys(t).filter((e=>!n.includes(e)))].forEach((r=>{e(`SET_${ii(r,"_").toUpperCase()}`,{value:t[r]})}))}}),Hs=["server"],$s=e=>document.createElement(e),zs=(e,t)=>{let r=e.childNodes[0];r?t!==r.nodeValue&&(r.nodeValue=t):(r=document.createTextNode(t),e.appendChild(r))},Xs=(e,t,r,n)=>{const o=(n%360-90)*Math.PI/180;return{x:e+r*Math.cos(o),y:t+r*Math.sin(o)}},js=(e,t,r,n,o)=>{let i=1;return o>n&&o-n<=.5&&(i=0),n>o&&n-o>=.5&&(i=0),((e,t,r,n,o,i)=>{const s=Xs(e,t,r,o),a=Xs(e,t,r,n);return["M",s.x,s.y,"A",r,r,0,i,0,a.x,a.y].join(" ")})(e,t,r,360*Math.min(.9999,n),360*Math.min(.9999,o),i)},Zs=xo({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const r=_o("svg");e.ref.path=_o("path",{"stroke-width":2,"stroke-linecap":"round"}),r.appendChild(e.ref.path),e.ref.svg=r,e.appendChild(r)},write:({root:e,props:t})=>{if(0===t.opacity)return;t.align&&(e.element.dataset.align=t.align);const r=parseInt(fo(e.ref.path,"stroke-width"),10),n=.5*e.rect.element.width;let o=0,i=0;t.spin?(o=0,i=.5):(o=0,i=t.progress);const s=js(n,n,n-r,o,i);fo(e.ref.path,"d",s),fo(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Qs=xo({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},write:({root:e,props:t})=>{const{isDisabled:r}=t,n=e.query("GET_DISABLED")||0===t.opacity;n&&!r?(t.isDisabled=!0,fo(e.element,"disabled","disabled")):!n&&r&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))}}),Ks=(e,t=".",r=1e3,n={})=>{const{labelBytes:o="bytes",labelKilobytes:i="KB",labelMegabytes:s="MB",labelGigabytes:a="GB"}=n,l=r,c=r*r,d=r*r*r;return(e=Math.round(Math.abs(e)))<l?`${e} ${o}`:e<c?`${Math.floor(e/l)} ${i}`:e<d?`${Js(e/c,1,t)} ${s}`:`${Js(e/d,2,t)} ${a}`},Js=(e,t,r)=>e.toFixed(t).split(".").filter((e=>"0"!==e)).join(r),ea=({root:e,props:t})=>{zs(e.ref.fileSize,Ks(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),zs(e.ref.fileName,e.query("GET_ITEM_NAME",t.id))},ta=({root:e,props:t})=>{jo(e.query("GET_ITEM_SIZE",t.id))?ea({root:e,props:t}):zs(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},ra=xo({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:Go({DID_LOAD_ITEM:ea,DID_UPDATE_ITEM_META:ea,DID_THROW_ITEM_LOAD_ERROR:ta,DID_THROW_ITEM_INVALID:ta}),didCreateView:e=>{Fi("CREATE_VIEW",{...e,view:e})},create:({root:e,props:t})=>{const r=$s("span");r.className="filepond--file-info-main",fo(r,"aria-hidden","true"),e.appendChild(r),e.ref.fileName=r;const n=$s("span");n.className="filepond--file-info-sub",e.appendChild(n),e.ref.fileSize=n,zs(n,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),zs(r,e.query("GET_ITEM_NAME",t.id))},mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),na=e=>Math.round(100*e),oa=({root:e,action:t})=>{const r=null===t.progress?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${na(t.progress)}%`;zs(e.ref.main,r),zs(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},ia=({root:e})=>{zs(e.ref.main,""),zs(e.ref.sub,"")},sa=({root:e,action:t})=>{zs(e.ref.main,t.status.main),zs(e.ref.sub,t.status.sub)},aa=xo({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:Go({DID_LOAD_ITEM:ia,DID_REVERT_ITEM_PROCESSING:ia,DID_REQUEST_ITEM_PROCESSING:({root:e})=>{zs(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),zs(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:({root:e})=>{zs(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),zs(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:({root:e})=>{zs(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),zs(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{const r=null===t.progress?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${na(t.progress)}%`;zs(e.ref.main,r),zs(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:oa,DID_THROW_ITEM_LOAD_ERROR:sa,DID_THROW_ITEM_INVALID:sa,DID_THROW_ITEM_PROCESSING_ERROR:sa,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:sa,DID_THROW_ITEM_REMOVE_ERROR:sa}),didCreateView:e=>{Fi("CREATE_VIEW",{...e,view:e})},create:({root:e})=>{const t=$s("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const r=$s("span");r.className="filepond--file-status-sub",e.appendChild(r),e.ref.sub=r,oa({root:e,action:{progress:null}})},mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),la={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},ca=[];uo(la,(e=>{ca.push(e)}));const da=e=>{if("right"===ha(e))return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},ua=e=>e.ref.buttonAbortItemLoad.rect.element.width,pa=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),fa=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),ha=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),Ea={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION")},processProgressIndicator:{opacity:0,align:e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},_a={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:da},status:{translateX:da}},ma={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},ga={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:da},status:{translateX:da,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:da},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:ha},info:{translateX:da},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:ha},buttonRemoveItem:{opacity:1},info:{translateX:da},status:{opacity:1,translateX:da}},DID_LOAD_ITEM:_a,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:da},status:{translateX:da}},DID_START_ITEM_PROCESSING:ma,DID_REQUEST_ITEM_PROCESSING:ma,DID_UPDATE_ITEM_PROCESS_PROGRESS:ma,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:da}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:da},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:_a},Ta=xo({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Ia=Go({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),ya=xo({create:({root:e,props:t})=>{const r=Object.keys(la).reduce(((e,t)=>(e[t]={...la[t]},e)),{}),{id:n}=t,o=e.query("GET_ALLOW_REVERT"),i=e.query("GET_ALLOW_REMOVE"),s=e.query("GET_ALLOW_PROCESS"),a=e.query("GET_INSTANT_UPLOAD"),l=e.query("IS_ASYNC"),c=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let d;l?s&&!o?d=e=>!/RevertItemProcessing/.test(e):!s&&o?d=e=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(e):s||o||(d=e=>!/Process/.test(e)):d=e=>!/Process/.test(e);const u=d?ca.filter(d):ca.concat();if(a&&o&&(r.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",r.RevertItemProcessing.icon="GET_ICON_REMOVE"),l&&!o){const e=ga.DID_COMPLETE_ITEM_PROCESSING;e.info.translateX=fa,e.info.translateY=pa,e.status.translateY=pa,e.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(l&&!s&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach((e=>{ga[e].status.translateY=pa})),ga.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=ua),c&&o){r.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const e=ga.DID_COMPLETE_ITEM_PROCESSING;e.info.translateX=da,e.status.translateY=pa,e.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}i||(r.RemoveItem.disabled=!0),uo(r,((t,r)=>{const o=e.createChildView(Qs,{label:e.query(r.label),icon:e.query(r.icon),opacity:0});u.includes(t)&&e.appendChildView(o),r.disabled&&(o.element.setAttribute("disabled","disabled"),o.element.setAttribute("hidden","hidden")),o.element.dataset.align=e.query(`GET_STYLE_${r.align}`),o.element.classList.add(r.className),o.on("click",(t=>{t.stopPropagation(),r.disabled||e.dispatch(r.action,{query:n})})),e.ref[`button${t}`]=o})),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(Ta)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(ra,{id:n})),e.ref.status=e.appendChildView(e.createChildView(aa,{id:n}));const p=e.appendChildView(e.createChildView(Zs,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));p.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=p;const f=e.appendChildView(e.createChildView(Zs,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));f.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=f,e.ref.activeStyles=[]},write:({root:e,actions:t,props:r})=>{Ia({root:e,actions:t,props:r});let n=t.concat().filter((e=>/^DID_/.test(e.type))).reverse().find((e=>ga[e.type]));if(n){e.ref.activeStyles=[];const t=ga[n.type];uo(Ea,((r,n)=>{const o=e.ref[r];uo(n,((n,i)=>{const s=t[r]&&void 0!==t[r][n]?t[r][n]:i;e.ref.activeStyles.push({control:o,key:n,value:s})}))}))}e.ref.activeStyles.forEach((({control:t,key:r,value:n})=>{t[r]="function"==typeof n?n(e):n}))},didCreateView:e=>{Fi("CREATE_VIEW",{...e,view:e})},name:"file"}),Ra=xo({create:({root:e,props:t})=>{e.ref.fileName=$s("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(ya,{id:t.id})),e.ref.data=!1},ignoreRect:!0,write:Go({DID_LOAD_ITEM:({root:e,props:t})=>{zs(e.ref.fileName,e.query("GET_ITEM_NAME",t.id))}}),didCreateView:e=>{Fi("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),va={type:"spring",damping:.6,mass:7},Oa=(e,t,r)=>{const n=xo({name:`panel-${t.name} filepond--${r}`,mixins:t.mixins,ignoreRectUpdate:!0}),o=e.createChildView(n,t.props);e.ref[t.name]=e.appendChildView(o)},Da=xo({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:({root:e,props:t})=>{if(null!==e.ref.scalable&&t.scalable===e.ref.scalable||(e.ref.scalable=!Yo(t.scalable)||t.scalable,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const r=e.ref.top.rect.element,n=e.ref.bottom.rect.element,o=Math.max(r.height+n.height,t.height);e.ref.center.translateY=r.height,e.ref.center.scaleY=(o-r.height-n.height)/100,e.ref.bottom.translateY=o-n.height},create:({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:va},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:va},styles:["translateY"]}}].forEach((r=>{Oa(e,r,t.name)})),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Sa={type:"spring",stiffness:.75,damping:.45,mass:10},wa={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},Aa=Go({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),ba=Go({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},(({root:e,actions:t,props:r,shouldOptimize:n})=>{"drop"===e.element.dataset.dragState&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let o=t.concat().filter((e=>/^DID_/.test(e.type))).reverse().find((e=>wa[e.type]));o&&o.type!==r.currentState&&(r.currentState=o.type,e.element.dataset.filepondItemState=wa[r.currentState]||"");const i=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");i?n||(e.height=e.rect.element.width*i):(Aa({root:e,actions:t,props:r}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),n&&(e.ref.panel.height=null),e.ref.panel.height=e.height})),Ma=xo({create:({root:e,props:t})=>{if(e.ref.handleClick=r=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(Ra,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(Da,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";e.element.addEventListener("pointerdown",(r=>{if(!r.isPrimary)return;let n=!1;const o=r.pageX,i=r.pageY;t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:r.offsetX,y:r.offsetY};const s=(e=>{const t=e.map((e=>e.id));let r;return{setIndex:e=>{r=e},getIndex:()=>r,getItemIndex:e=>t.indexOf(e.id)}})(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:s});const a=r=>{if(!r.isPrimary)return;r.stopPropagation(),r.preventDefault(),t.dragOffset={x:r.pageX-o,y:r.pageY-i};t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!n&&(n=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:s})},l=r=>{r.isPrimary&&(document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",l),t.dragOffset={x:r.pageX-o,y:r.pageY-i},e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:s}),n&&setTimeout((()=>e.element.addEventListener("click",e.ref.handleClick)),0))};document.addEventListener("pointermove",a),document.addEventListener("pointerup",l)}))},write:ba,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:"spring",scaleY:"spring",translateX:Sa,translateY:Sa,opacity:{type:"tween",duration:150}}}});var Pa=(e,t)=>Math.max(1,Math.floor((e+1)/t));const La=(e,t,r)=>{if(!r)return;const n=e.rect.element.width,o=t.length;let i=null;if(0===o||r.top<t[0].rect.element.top)return-1;const s=t[0].rect.element,a=s.marginLeft+s.marginRight,l=s.width+a,c=Pa(n,l);if(1===c){for(let e=0;e<o;e++){const n=t[e],o=n.rect.outer.top+.5*n.rect.element.height;if(r.top<o)return e}return o}const d=s.marginTop+s.marginBottom,u=s.height+d;for(let e=0;e<o;e++){const t=e%c*l,n=Math.floor(e/c)*u,a=n-s.marginTop,d=t+l,p=n+u+s.marginBottom;if(r.top<p&&r.top>a){if(r.left<d)return e;i=e!==o-1?e:null}}return null!==i?i:o},Ca={height:0,width:0,get getHeight(){return this.height},set setHeight(e){0!==this.height&&0!==e||(this.height=e)},get getWidth(){return this.width},set setWidth(e){0!==this.width&&0!==e||(this.width=e)},setDimensions:function(e,t){0!==this.height&&0!==e||(this.height=e),0!==this.width&&0!==t||(this.width=t)}},Na=(e,t,r,n=0,o=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=r,Date.now()>e.spawnDate&&(0===e.opacity&&xa(e,t,r,n,o),e.scaleX=1,e.scaleY=1,e.opacity=1))},xa=(e,t,r,n,o)=>{e.interactionMethod===fi?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=r):e.interactionMethod===di?(e.translateX=null,e.translateX=t-20*n,e.translateY=null,e.translateY=r-10*o,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===ui?(e.translateY=null,e.translateY=r-30):e.interactionMethod===ci&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},Ga=e=>e.rect.element.height+.5*e.rect.element.marginBottom+.5*e.rect.element.marginTop,Fa=Go({DID_ADD_ITEM:({root:e,action:t})=>{const{id:r,index:n,interactionMethod:o}=t;e.ref.addIndex=n;const i=Date.now();let s=i,a=1;if(o!==fi){a=0;const t=e.query("GET_ITEM_INSERT_INTERVAL"),r=i-e.ref.lastItemSpanwDate;s=r<t?i+(t-r):i}e.ref.lastItemSpanwDate=s,e.appendChildView(e.createChildView(Ma,{spawnDate:s,id:r,opacity:a,interactionMethod:o}),n)},DID_REMOVE_ITEM:({root:e,action:t})=>{const{id:r}=t,n=e.childViews.find((e=>e.id===r));n&&(n.scaleX=.9,n.scaleY=.9,n.opacity=0,n.markedForRemoval=!0)},DID_DRAG_ITEM:({root:e,action:t})=>{const{id:r,dragState:n}=t,o=e.query("GET_ITEM",{id:r}),i=e.childViews.find((e=>e.id===r)),s=e.childViews.length,a=n.getItemIndex(o);if(!i)return;const l=i.dragOrigin.x+i.dragOffset.x+i.dragCenter.x,c=i.dragOrigin.y+i.dragOffset.y+i.dragCenter.y,d=Ga(i),u=(p=i).rect.element.width+.5*p.rect.element.marginLeft+.5*p.rect.element.marginRight;var p;let f=Math.floor(e.rect.outer.width/u);f>s&&(f=s);const h=Math.floor(s/f+1);Ca.setHeight=d*h,Ca.setWidth=u*f;var E={y:Math.floor(c/d),x:Math.floor(l/u),getGridIndex:function(){return c>Ca.getHeight||c<0||l>Ca.getWidth||l<0?a:this.y*f+this.x},getColIndex:function(){const t=e.query("GET_ACTIVE_ITEMS"),r=e.childViews.filter((e=>e.rect.element.height)),n=t.map((e=>r.find((t=>t.id===e.id)))),o=n.findIndex((e=>e===i)),s=Ga(i),a=n.length;let l=a,d=0,u=0,p=0;for(let e=0;e<a;e++)if(d=Ga(n[e]),p=u,u=p+d,c<u){if(o>e){if(c<p+s){l=e;break}continue}l=e;break}return l}};const _=f>1?E.getGridIndex():E.getColIndex();e.dispatch("MOVE_ITEM",{query:i,index:_});const m=n.getIndex();if(void 0===m||m!==_){if(n.setIndex(_),void 0===m)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:a,target:_})}}}),Ua=xo({create:({root:e})=>{fo(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},write:({root:e,props:t,actions:r,shouldOptimize:n})=>{Fa({root:e,props:t,actions:r});const{dragCoordinates:o}=t,i=e.rect.element.width,s=e.childViews.filter((e=>e.rect.element.height)),a=e.query("GET_ACTIVE_ITEMS").map((e=>s.find((t=>t.id===e.id)))).filter((e=>e)),l=o?La(e,a,o):null,c=e.ref.addIndex||null;e.ref.addIndex=null;let d=0,u=0,p=0;if(0===a.length)return;const f=a[0].rect.element,h=f.marginTop+f.marginBottom,E=f.marginLeft+f.marginRight,_=f.width+E,m=f.height+h,g=Pa(i,_);if(1===g){let e=0,t=0;a.forEach(((r,o)=>{if(l){let e=o-l;t=-2===e?.25*-h:-1===e?.75*-h:0===e?.75*h:1===e?.25*h:0}n&&(r.translateX=null,r.translateY=null),r.markedForRemoval||Na(r,0,e+t);let i=(r.rect.element.height+h)*(r.markedForRemoval?r.opacity:1);e+=i}))}else{let e=0,t=0;a.forEach(((r,o)=>{o===l&&(d=1),o===c&&(p+=1),r.markedForRemoval&&r.opacity<.5&&(u-=1);const i=o+p+d+u,s=i%g,a=Math.floor(i/g),f=s*_,h=a*m,E=Math.sign(f-e),T=Math.sign(h-t);e=f,t=h,r.markedForRemoval||(n&&(r.translateX=null,r.translateY=null),Na(r,f,h,E,T))}))}},tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter((e=>e.markedForRemoval&&0===e.opacity&&e.resting)).forEach((t=>{t._destroy(),e.removeChildView(t)}))},filterFrameActionsForChild:(e,t)=>t.filter((t=>!t.data||!t.data.id||e.id===t.data.id)),mixins:{apis:["dragCoordinates"]}}),Va=Go({DID_DRAG:({root:e,props:t,action:r})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:r.position.scopeLeft-e.ref.list.rect.element.left,top:r.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},DID_END_DRAG:({props:e})=>{e.dragCoordinates=null}}),Ba=xo({create:({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(Ua)),t.dragCoordinates=null,t.overflowing=!1},write:({root:e,props:t,actions:r})=>{if(Va({root:e,props:t,actions:r}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const r=Math.round(t.overflow);r!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=r)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),qa=(e,t,r,n="")=>{r?fo(e,t,n):e.removeAttribute(t)},ka=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&qa(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},Ya=({root:e,action:t})=>{qa(e.element,"multiple",t.value)},Wa=({root:e,action:t})=>{qa(e.element,"webkitdirectory",t.value)},Ha=({root:e})=>{const t=e.query("GET_DISABLED"),r=e.query("GET_ALLOW_BROWSE"),n=t||!r;qa(e.element,"disabled",n)},$a=({root:e,action:t})=>{t.value?0===e.query("GET_TOTAL_ITEMS")&&qa(e.element,"required",!0):qa(e.element,"required",!1)},za=({root:e,action:t})=>{qa(e.element,"capture",!!t.value,!0===t.value?"":t.value)},Xa=({root:e})=>{const{element:t}=e;if(e.query("GET_TOTAL_ITEMS")>0)qa(t,"required",!1),qa(t,"name",!1);else{qa(t,"name",!0,e.query("GET_NAME"));e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&qa(t,"required",!0)}},ja=xo({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,fo(e.element,"name",e.query("GET_NAME")),fo(e.element,"aria-controls",`filepond--assistant-${t.id}`),fo(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),ka({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),Ya({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),Wa({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Ha({root:e}),$a({root:e,action:{value:e.query("GET_REQUIRED")}}),za({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=r=>{if(!e.element.value)return;const n=Array.from(e.element.files).map((e=>(e._relativePath=e.webkitRelativePath,e)));setTimeout((()=>{t.onload(n),(e=>{if(e&&""!==e.value){try{e.value=""}catch(e){}if(e.value){const t=$s("form"),r=e.parentNode,n=e.nextSibling;t.appendChild(e),t.reset(),n?r.insertBefore(e,n):r.appendChild(e)}}})(e.element)}),250)},e.element.addEventListener("change",e.ref.handleChange)},destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:Go({DID_LOAD_ITEM:Xa,DID_REMOVE_ITEM:Xa,DID_THROW_ITEM_INVALID:({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:Ha,DID_SET_ALLOW_BROWSE:Ha,DID_SET_ALLOW_DIRECTORIES_ONLY:Wa,DID_SET_ALLOW_MULTIPLE:Ya,DID_SET_ACCEPTED_FILE_TYPES:ka,DID_SET_CAPTURE_METHOD:za,DID_SET_REQUIRED:$a})}),Za=13,Qa=32,Ka=(e,t)=>{e.innerHTML=t;const r=e.querySelector(".filepond--label-action");return r&&fo(r,"tabindex","0"),t},Ja=xo({name:"drop-label",ignoreRect:!0,create:({root:e,props:t})=>{const r=$s("label");fo(r,"for",`filepond--browser-${t.id}`),fo(r,"id",`filepond--drop-label-${t.id}`),fo(r,"aria-hidden","true"),e.ref.handleKeyDown=t=>{(t.keyCode===Za||t.keyCode===Qa)&&(t.preventDefault(),e.ref.label.click())},e.ref.handleClick=t=>{t.target===r||r.contains(t.target)||e.ref.label.click()},r.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),Ka(r,t.caption),e.appendChild(r),e.ref.label=r},destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:Go({DID_SET_LABEL_IDLE:({root:e,action:t})=>{Ka(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),el=xo({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),tl=Go({DID_DRAG:({root:e,action:t})=>{e.ref.blob?(e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1):(({root:e})=>{const t=.5*e.rect.element.width,r=.5*e.rect.element.height;e.ref.blob=e.appendChildView(e.createChildView(el,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:r}))})({root:e})},DID_DROP:({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},DID_END_DRAG:({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)}}),rl=xo({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:({root:e,props:t,actions:r})=>{tl({root:e,props:t,actions:r});const{blob:n}=e.ref;0===r.length&&n&&0===n.opacity&&(e.removeChildView(n),e.ref.blob=null)}}),nl=(e,t)=>{try{const r=new DataTransfer;t.forEach((e=>{e instanceof File?r.items.add(e):r.items.add(new File([e],e.name,{type:e.type}))})),e.files=r.files}catch(e){return!1}return!0},ol=(e,t)=>e.ref.fields[t],il=e=>{e.query("GET_ACTIVE_ITEMS").forEach((t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])}))},sl=({root:e})=>il(e),al=Go({DID_SET_DISABLED:({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},DID_ADD_ITEM:({root:e,action:t})=>{const r=!(e.query("GET_ITEM",t.id).origin===Pi)&&e.query("SHOULD_UPDATE_FILE_INPUT"),n=$s("input");n.type=r?"file":"hidden",n.name=e.query("GET_NAME"),n.disabled=e.query("GET_DISABLED"),e.ref.fields[t.id]=n,il(e)},DID_LOAD_ITEM:({root:e,action:t})=>{const r=ol(e,t.id);if(!r)return;if(null!==t.serverFileReference&&(r.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT"))return;const n=e.query("GET_ITEM",t.id);nl(r,[n.file])},DID_REMOVE_ITEM:({root:e,action:t})=>{const r=ol(e,t.id);r&&(r.parentNode&&r.parentNode.removeChild(r),delete e.ref.fields[t.id])},DID_DEFINE_VALUE:({root:e,action:t})=>{const r=ol(e,t.id);r&&(null===t.value?r.removeAttribute("value"):r.value=t.value,il(e))},DID_PREPARE_OUTPUT:({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout((()=>{const r=ol(e,t.id);r&&nl(r,[t.file])}),0)},DID_REORDER_ITEMS:sl,DID_SORT_ITEMS:sl}),ll=xo({tag:"fieldset",name:"data",create:({root:e})=>e.ref.fields={},write:al,ignoreRect:!0}),cl=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],dl=["css","csv","html","txt"],ul={zip:"zip|compressed",epub:"application/epub+zip"},pl=(e="")=>(e=e.toLowerCase(),cl.includes(e)?"image/"+("jpg"===e?"jpeg":"svg"===e?"svg+xml":e):dl.includes(e)?"text/"+e:ul[e]||""),fl=e=>new Promise(((t,r)=>{const n=vl(e);if(n.length&&!hl(e))return t(n);El(e).then(t)})),hl=e=>!!e.files&&e.files.length>0,El=e=>new Promise(((t,r)=>{const n=(e.items?Array.from(e.items):[]).filter((e=>_l(e))).map((e=>ml(e)));n.length?Promise.all(n).then((e=>{const r=[];e.forEach((e=>{r.push.apply(r,e)})),t(r.filter((e=>e)).map((e=>(e._relativePath||(e._relativePath=e.webkitRelativePath),e))))})).catch(console.error):t(e.files?Array.from(e.files):[])})),_l=e=>{if(yl(e)){const t=Rl(e);if(t)return t.isFile||t.isDirectory}return"file"===e.kind},ml=e=>new Promise(((t,r)=>{Il(e)?gl(Rl(e)).then(t).catch(r):t([e.getAsFile()])})),gl=e=>new Promise(((t,r)=>{const n=[];let o=0,i=0;const s=()=>{0===i&&0===o&&t(n)},a=e=>{o++;const t=e.createReader(),l=()=>{t.readEntries((e=>{if(0===e.length)return o--,void s();e.forEach((e=>{e.isDirectory?a(e):(i++,e.file((t=>{const r=Tl(t);e.fullPath&&(r._relativePath=e.fullPath),n.push(r),i--,s()})))})),l()}),r)};l()};a(e)})),Tl=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,r=e.name,n=pl(ns(e.name));return n.length?((e=e.slice(0,e.size,n)).name=r,e.lastModifiedDate=t,e):e},Il=e=>yl(e)&&(Rl(e)||{}).isDirectory,yl=e=>"webkitGetAsEntry"in e,Rl=e=>e.webkitGetAsEntry(),vl=e=>{let t=[];try{if(t=Dl(e),t.length)return t;t=Ol(e)}catch(e){}return t},Ol=e=>{let t=e.getData("url");return"string"==typeof t&&t.length?[t]:[]},Dl=e=>{let t=e.getData("text/html");if("string"==typeof t&&t.length){const e=t.match(/src\s*=\s*"(.+?)"/);if(e)return[e[1]]}return[]},Sl=[],wl=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),Al=e=>{const t=Sl.find((t=>t.element===e));if(t)return t;const r=bl(e);return Sl.push(r),r},bl=e=>{const t=[],r={dragenter:Cl,dragover:Nl,dragleave:Gl,drop:xl},n={};uo(r,((r,o)=>{n[r]=o(e,t),e.addEventListener(r,n[r],!1)}));const o={element:e,addListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1),0===t.length&&(Sl.splice(Sl.indexOf(o),1),uo(r,(t=>{e.removeEventListener(t,n[t],!1)})))})};return o},Ml=(e,t)=>{var r;const n=((e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)))("getRootNode"in(r=t)?r.getRootNode():document,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return n===t||t.contains(n)};let Pl=null;const Ll=(e,t)=>{try{e.dropEffect=t}catch(e){}},Cl=(e,t)=>e=>{e.preventDefault(),Pl=e.target,t.forEach((t=>{const{element:r,onenter:n}=t;Ml(e,r)&&(t.state="enter",n(wl(e)))}))},Nl=(e,t)=>e=>{e.preventDefault();const r=e.dataTransfer;fl(r).then((n=>{let o=!1;t.some((t=>{const{filterElement:i,element:s,onenter:a,onexit:l,ondrag:c,allowdrop:d}=t;Ll(r,"copy");const u=d(n);if(u)if(Ml(e,s)){if(o=!0,null===t.state)return t.state="enter",void a(wl(e));if(t.state="over",i&&!u)return void Ll(r,"none");c(wl(e))}else i&&!o&&Ll(r,"none"),t.state&&(t.state=null,l(wl(e)));else Ll(r,"none")}))}))},xl=(e,t)=>e=>{e.preventDefault();const r=e.dataTransfer;fl(r).then((r=>{t.forEach((t=>{const{filterElement:n,element:o,ondrop:i,onexit:s,allowdrop:a}=t;if(t.state=null,!n||Ml(e,o))return a(r)?void i(wl(e),r):s(wl(e))}))}))},Gl=(e,t)=>e=>{Pl===e.target&&t.forEach((t=>{const{onexit:r}=t;t.state=null,r(wl(e))}))},Fl=(e,t,r)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:n,requiresDropOnElement:o,filterItems:i=(e=>e)}=r,s=((e,t,r)=>{const n=Al(t),o={element:e,filterElement:r,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return o.destroy=n.addListener(o),o})(e,n?document.documentElement:e,o);let a="",l="";s.allowdrop=e=>t(i(e)),s.ondrop=(e,r)=>{const n=i(r);t(n)?(l="drag-drop",c.onload(n,e)):c.ondragend(e)},s.ondrag=e=>{c.ondrag(e)},s.onenter=e=>{l="drag-over",c.ondragstart(e)},s.onexit=e=>{l="drag-exit",c.ondragend(e)};const c={updateHopperState:()=>{a!==l&&(e.dataset.hopperState=l,a=l)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{s.destroy()}};return c};let Ul=!1;const Vl=[],Bl=e=>{const t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){let e=!1,r=t;for(;r!==document.body;){if(r.classList.contains("filepond--root")){e=!0;break}r=r.parentNode}if(!e)return}fl(e.clipboardData).then((e=>{e.length&&Vl.forEach((t=>t(e)))}))},ql=()=>{const e=e=>{t.onload(e)},t={destroy:()=>{var t;t=e,Ei(Vl,Vl.indexOf(t)),0===Vl.length&&(document.removeEventListener("paste",Bl),Ul=!1)},onload:()=>{}};return(e=>{Vl.includes(e)||(Vl.push(e),Ul||(Ul=!0,document.addEventListener("paste",Bl)))})(e),t};let kl=null,Yl=null;const Wl=[],Hl=(e,t)=>{e.element.textContent=t},$l=(e,t,r)=>{const n=e.query("GET_TOTAL_ITEMS");Hl(e,`${r} ${t}, ${n} ${1===n?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(Yl),Yl=setTimeout((()=>{(e=>{e.element.textContent=""})(e)}),1500)},zl=e=>e.element.parentNode.contains(document.activeElement),Xl=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,n=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");Hl(e,`${r} ${n}`)},jl=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename;Hl(e,`${t.status.main} ${r} ${t.status.sub}`)},Zl=xo({create:({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,fo(e.element,"role","status"),fo(e.element,"aria-live","polite"),fo(e.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:Go({DID_LOAD_ITEM:({root:e,action:t})=>{if(!zl(e))return;e.element.textContent="";const r=e.query("GET_ITEM",t.id);Wl.push(r.filename),clearTimeout(kl),kl=setTimeout((()=>{$l(e,Wl.join(", "),e.query("GET_LABEL_FILE_ADDED")),Wl.length=0}),750)},DID_REMOVE_ITEM:({root:e,action:t})=>{if(!zl(e))return;const r=t.item;$l(e,r.filename,e.query("GET_LABEL_FILE_REMOVED"))},DID_COMPLETE_ITEM_PROCESSING:({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,n=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Hl(e,`${r} ${n}`)},DID_ABORT_ITEM_PROCESSING:Xl,DID_REVERT_ITEM_PROCESSING:Xl,DID_THROW_ITEM_REMOVE_ERROR:jl,DID_THROW_ITEM_LOAD_ERROR:jl,DID_THROW_ITEM_INVALID:jl,DID_THROW_ITEM_PROCESSING_ERROR:jl}),tag:"span",name:"assistant"}),Ql=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),(e=>e.charAt(1).toUpperCase())),Kl=(e,t=16,r=!0)=>{let n=Date.now(),o=null;return(...i)=>{clearTimeout(o);const s=Date.now()-n,a=()=>{n=Date.now(),e(...i)};s<t?r||(o=setTimeout(a,t-s)):a()}},Jl=e=>e.preventDefault(),ec=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},tc=e=>{let t=0,r=0;const n=e.ref.list,o=n.childViews[0],i=o.childViews.filter((e=>e.rect.element.height)),s=e.query("GET_ACTIVE_ITEMS").map((e=>i.find((t=>t.id===e.id)))).filter((e=>e));if(0===s.length)return{visual:t,bounds:r};const a=o.rect.element.width,l=La(o,s,n.dragCoordinates),c=s[0].rect.element,d=c.marginTop+c.marginBottom,u=c.marginLeft+c.marginRight,p=c.width+u,f=c.height+d,h=void 0!==l&&l>=0?1:0,E=s.find((e=>e.markedForRemoval&&e.opacity<.45))?-1:0,_=s.length+h+E,m=Pa(a,p);return 1===m?s.forEach((e=>{const n=e.rect.element.height+d;r+=n,t+=n*e.opacity})):(r=Math.ceil(_/m)*f,t=r),{visual:t,bounds:r}},rc=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:0===t?null:t}},nc=(e,t)=>{const r=e.query("GET_ALLOW_REPLACE"),n=e.query("GET_ALLOW_MULTIPLE"),o=e.query("GET_TOTAL_ITEMS");let i=e.query("GET_MAX_FILES");const s=t.length;if(!n&&s>1)return!0;i=n||r?i:1;return!!(jo(i)&&o+s>i)&&(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:ms("warning",0,"Max files")}),!0)},oc=(e,t,r)=>{const n=e.childViews[0];return La(n,t,{left:r.scopeLeft-n.rect.element.left,top:r.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},ic=e=>{const t=e.query("GET_ALLOW_DROP"),r=e.query("GET_DISABLED"),n=t&&!r;if(n&&!e.ref.hopper){const t=Fl(e.element,(t=>{const r=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return!e.query("GET_DROP_VALIDATION")||t.every((t=>Fi("ALLOW_HOPPER_ITEM",t,{query:e.query}).every((e=>!0===e))&&r(t)))}),{filterItems:t=>{const r=e.query("GET_IGNORED_FILES");return t.filter((e=>!Cs(e)||!r.includes(e.name.toLowerCase())))},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});t.onload=(t,r)=>{const n=e.ref.list.childViews[0].childViews.filter((e=>e.rect.element.height)),o=e.query("GET_ACTIVE_ITEMS").map((e=>n.find((t=>t.id===e.id)))).filter((e=>e));Gi("ADD_ITEMS",t,{dispatch:e.dispatch}).then((t=>{if(nc(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:oc(e.ref.list,o,r),interactionMethod:di})})),e.dispatch("DID_DROP",{position:r}),e.dispatch("DID_END_DRAG",{position:r})},t.ondragstart=t=>{e.dispatch("DID_START_DRAG",{position:t})},t.ondrag=Kl((t=>{e.dispatch("DID_DRAG",{position:t})})),t.ondragend=t=>{e.dispatch("DID_END_DRAG",{position:t})},e.ref.hopper=t,e.ref.drip=e.appendChildView(e.createChildView(rl))}else!n&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},sc=(e,t)=>{const r=e.query("GET_ALLOW_BROWSE"),n=e.query("GET_DISABLED"),o=r&&!n;o&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(ja,{...t,onload:t=>{Gi("ADD_ITEMS",t,{dispatch:e.dispatch}).then((t=>{if(nc(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:ui})}))}}),0):!o&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},ac=e=>{const t=e.query("GET_ALLOW_PASTE"),r=e.query("GET_DISABLED"),n=t&&!r;n&&!e.ref.paster?(e.ref.paster=ql(),e.ref.paster.onload=t=>{Gi("ADD_ITEMS",t,{dispatch:e.dispatch}).then((t=>{if(nc(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:pi})}))}):!n&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},lc=Go({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{sc(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{ic(e)},DID_SET_ALLOW_PASTE:({root:e})=>{ac(e)},DID_SET_DISABLED:({root:e,props:t})=>{ic(e),ac(e),sc(e,t);e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),cc=xo({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:({root:e,props:t})=>{const r=e.query("GET_ID");r&&(e.element.id=r);const n=e.query("GET_CLASS_NAME");n&&n.split(" ").filter((e=>e.length)).forEach((t=>{e.element.classList.add(t)})),e.ref.label=e.appendChildView(e.createChildView(Ja,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(Ba,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(Da,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(Zl,{...t})),e.ref.data=e.appendChildView(e.createChildView(ll,{...t})),e.ref.measure=$s("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter((e=>!Bo(e.value))).map((({name:t,value:r})=>{e.element.dataset[t]=r})),e.ref.widthPrevious=null,e.ref.widthUpdated=Kl((()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")}),250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const o=window.matchMedia("(pointer: fine) and (hover: hover)").matches,i="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&i&&!o&&(e.element.addEventListener("touchmove",Jl,{passive:!1}),e.element.addEventListener("gesturestart",Jl));const s=e.query("GET_CREDITS");if(2===s.length){const t=document.createElement("a");t.className="filepond--credits",t.setAttribute("aria-hidden","true"),t.href=s[0],t.tabindex=-1,t.target="_blank",t.rel="noopener noreferrer",t.textContent=s[1],e.element.appendChild(t),e.ref.credits=t}},write:({root:e,props:t,actions:r})=>{if(lc({root:e,props:t,actions:r}),r.filter((e=>/^DID_SET_STYLE_/.test(e.type))).filter((e=>!Bo(e.data.value))).map((({type:t,data:r})=>{const n=Ql(t.substr(8).toLowerCase(),"_");e.element.dataset[n]=r.value,e.invalidateLayout()})),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let n=e.ref.bounds;n||(n=e.ref.bounds=rc(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:o,label:i,list:s,panel:a}=e.ref;o&&o.updateHopperState();const l=e.query("GET_PANEL_ASPECT_RATIO"),c=e.query("GET_ALLOW_MULTIPLE"),d=e.query("GET_TOTAL_ITEMS"),u=d===(c?e.query("GET_MAX_FILES")||1e6:1),p=r.find((e=>"DID_ADD_ITEM"===e.type));if(u&&p){const e=p.data.interactionMethod;i.opacity=0,c?i.translateY=-40:e===ci?i.translateX=40:i.translateY=e===ui?40:30}else u||(i.opacity=1,i.translateX=0,i.translateY=0);const f=ec(e),h=tc(e),E=i.rect.element.height,_=!c||u?0:E,m=u?s.rect.element.marginTop:0,g=0===d?0:s.rect.element.marginBottom,T=_+m+h.visual+g,I=_+m+h.bounds+g;if(s.translateY=Math.max(0,_-s.rect.element.marginTop)-f.top,l){const t=e.rect.element.width,r=t*l;l!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=l,e.ref.updateHistory=[]);const n=e.ref.updateHistory;n.push(t);const o=2;if(n.length>2*o){const e=n.length,t=e-10;let r=0;for(let i=e;i>=t;i--)if(n[i]===n[i-2]&&r++,r>=o)return}a.scalable=!1,a.height=r;const i=r-_-(g-f.bottom)-(u?m:0);h.visual>i?s.overflow=i:s.overflow=null,e.height=r}else if(n.fixedHeight){a.scalable=!1;const e=n.fixedHeight-_-(g-f.bottom)-(u?m:0);h.visual>e?s.overflow=e:s.overflow=null}else if(n.cappedHeight){const t=T>=n.cappedHeight,r=Math.min(n.cappedHeight,T);a.scalable=!0,a.height=t?r:r-f.top-f.bottom;const o=r-_-(g-f.bottom)-(u?m:0);T>n.cappedHeight&&h.visual>o?s.overflow=o:s.overflow=null,e.height=Math.min(n.cappedHeight,I-f.top-f.bottom)}else{const t=d>0?f.top+f.bottom:0;a.scalable=!0,a.height=Math.max(E,T-t),e.height=Math.max(E,I-t)}e.ref.credits&&a.heightCurrent&&(e.ref.credits.style.transform=`translateY(${a.heightCurrent}px)`)},destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",Jl),e.element.removeEventListener("gesturestart",Jl)},mixins:{styles:["height"]}}),dc=(e={})=>{let t=null;const r=Vi(),n=((e,t=[],r=[])=>{const n={...e},o=[],i=[],s=(e,t,r)=>{!r||document.hidden?(d[e]&&d[e](t),o.push({type:e,data:t})):i.push({type:e,data:t})},a=(e,...t)=>c[e]?c[e](...t):null,l={getState:()=>({...n}),processActionQueue:()=>{const e=[...o];return o.length=0,e},processDispatchQueue:()=>{const e=[...i];i.length=0,e.forEach((({type:e,data:t})=>{s(e,t)}))},dispatch:s,query:a};let c={};t.forEach((e=>{c={...e(n),...c}}));let d={};return r.forEach((e=>{d={...e(s,a,n),...d}})),l})({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:oi(r)},[Ji,li(r)],[Ws,ai(r)]);n.dispatch("SET_OPTIONS",{options:e});const o=()=>{document.hidden||n.dispatch("KICK")};document.addEventListener("visibilitychange",o);let i=null,s=!1,a=!1,l=null,c=null;const d=()=>{s||(s=!0),clearTimeout(i),i=setTimeout((()=>{s=!1,l=null,c=null,a&&(a=!1,n.dispatch("DID_STOP_RESIZE"))}),500)};window.addEventListener("resize",d);const u=cc(n,{id:hi()});let p=!1,f=!1;const h={_read:()=>{s&&(c=window.innerWidth,l||(l=c),a||c===l||(n.dispatch("DID_START_RESIZE"),a=!0)),f&&p&&(p=null===u.element.offsetParent),p||(u._read(),f=u.rect.element.hidden)},_write:e=>{const t=n.processActionQueue().filter((e=>!/^SET_/.test(e.type)));var r;p&&!t.length||(g(t),p=u._write(e,t,a),(r=n.query("GET_ITEMS")).forEach(((e,t)=>{e.released&&Ei(r,t)})),p&&n.processDispatchQueue())}},E=e=>t=>{const r={type:e};if(!t)return r;if(t.hasOwnProperty("error")&&(r.error=t.error?{...t.error}:null),t.status&&(r.status={...t.status}),t.file&&(r.output=t.file),t.source)r.file=t.source;else if(t.item||t.id){const e=t.item?t.item:n.query("GET_ITEM",t.id);r.file=e?Ti(e):null}return t.items&&(r.items=t.items.map(Ti)),/progress/.test(e)&&(r.progress=t.progress),t.hasOwnProperty("origin")&&t.hasOwnProperty("target")&&(r.origin=t.origin,r.target=t.target),r},_={DID_DESTROY:E("destroy"),DID_INIT:E("init"),DID_THROW_MAX_FILES:E("warning"),DID_INIT_ITEM:E("initfile"),DID_START_ITEM_LOAD:E("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:E("addfileprogress"),DID_LOAD_ITEM:E("addfile"),DID_THROW_ITEM_INVALID:[E("error"),E("addfile")],DID_THROW_ITEM_LOAD_ERROR:[E("error"),E("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[E("error"),E("removefile")],DID_PREPARE_OUTPUT:E("preparefile"),DID_START_ITEM_PROCESSING:E("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:E("processfileprogress"),DID_ABORT_ITEM_PROCESSING:E("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:E("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:E("processfiles"),DID_REVERT_ITEM_PROCESSING:E("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[E("error"),E("processfile")],DID_REMOVE_ITEM:E("removefile"),DID_UPDATE_ITEMS:E("updatefiles"),DID_ACTIVATE_ITEM:E("activatefile"),DID_REORDER_ITEMS:E("reorderfiles")},m=e=>{const t={pond:O,...e};delete t.type,u.element.dispatchEvent(new CustomEvent(`FilePond:${e.type}`,{detail:t,bubbles:!0,cancelable:!0,composed:!0}));const r=[];e.hasOwnProperty("error")&&r.push(e.error),e.hasOwnProperty("file")&&r.push(e.file);const o=["type","error","file"];Object.keys(e).filter((e=>!o.includes(e))).forEach((t=>r.push(e[t]))),O.fire(e.type,...r);const i=n.query(`GET_ON${e.type.toUpperCase()}`);i&&i(...r)},g=e=>{e.length&&e.filter((e=>_[e.type])).forEach((e=>{const t=_[e.type];(Array.isArray(t)?t:[t]).forEach((t=>{"DID_INIT_ITEM"===e.type?m(t(e.data)):setTimeout((()=>{m(t(e.data))}),0)}))}))},T=e=>new Promise(((t,r)=>{n.dispatch("REQUEST_ITEM_PREPARE",{query:e,success:e=>{t(e)},failure:e=>{r(e)}})})),I=(e,t)=>{var r;return"object"!=typeof e||(r=e).file&&r.id||t||(t=e,e=void 0),n.dispatch("REMOVE_ITEM",{...t,query:e}),null===n.query("GET_ACTIVE_ITEM",e)},y=(...e)=>new Promise(((t,r)=>{const o=[],i={};if(Vo(e[0]))o.push.apply(o,e[0]),Object.assign(i,e[1]||{});else{const t=e[e.length-1];"object"!=typeof t||t instanceof Blob||Object.assign(i,e.pop()),o.push(...e)}n.dispatch("ADD_ITEMS",{items:o,index:i.index,interactionMethod:ci,success:t,failure:r})})),R=()=>n.query("GET_ACTIVE_ITEMS"),v=e=>new Promise(((t,r)=>{n.dispatch("REQUEST_ITEM_PROCESSING",{query:e,success:e=>{t(e)},failure:e=>{r(e)}})})),O={..._i(),...h,...si(n,r),setOptions:e=>n.dispatch("SET_OPTIONS",{options:e}),addFile:(e,t={})=>new Promise(((r,n)=>{y([{source:e,options:t}],{index:t.index}).then((e=>r(e&&e[0]))).catch(n)})),addFiles:y,getFile:e=>n.query("GET_ACTIVE_ITEM",e),processFile:v,prepareFile:T,removeFile:I,moveFile:(e,t)=>n.dispatch("MOVE_ITEM",{query:e,index:t}),getFiles:R,processFiles:(...e)=>{const t=Array.isArray(e[0])?e[0]:e;if(!t.length){const e=R().filter((e=>!(e.status===yi&&e.origin===Pi)&&e.status!==vi&&e.status!==Oi&&e.status!==Si));return Promise.all(e.map(v))}return Promise.all(t.map(v))},removeFiles:(...e)=>{const t=Array.isArray(e[0])?e[0]:e;let r;"object"==typeof t[t.length-1]?r=t.pop():Array.isArray(e[0])&&(r=e[1]);const n=R();if(!t.length)return Promise.all(n.map((e=>I(e,r))));return t.map((e=>Do(e)?n[e]?n[e].id:null:e)).filter((e=>e)).map((e=>I(e,r)))},prepareFiles:(...e)=>{const t=Array.isArray(e[0])?e[0]:e,r=t.length?t:R();return Promise.all(r.map(T))},sort:e=>n.dispatch("SORT",{compare:e}),browse:()=>{var e=u.element.querySelector("input[type=file]");e&&e.click()},destroy:()=>{O.fire("destroy",u.element),n.dispatch("ABORT_ALL"),u._destroy(),window.removeEventListener("resize",d),document.removeEventListener("visibilitychange",o),n.dispatch("DID_DESTROY")},insertBefore:e=>Fo(u.element,e),insertAfter:e=>Uo(u.element,e),appendTo:e=>e.appendChild(u.element),replaceElement:e=>{Fo(u.element,e),e.parentNode.removeChild(e),t=e},restoreElement:()=>{t&&(Uo(t,u.element),u.element.parentNode.removeChild(u.element),t=null)},isAttachedTo:e=>u.element===e||t===e,element:{get:()=>u.element},status:{get:()=>n.query("GET_STATUS")}};return n.dispatch("DID_INIT"),po(O)},uc=(e={})=>{const t={};uo(Vi(),((e,r)=>{t[e]=r[0]}));return dc({...t,...e})},pc=(e,t)=>{uo(t,((t,r)=>{uo(e,((n,o)=>{const i=new RegExp(t);if(!i.test(n))return;if(delete e[n],!1===r)return;if(Ho(r))return void(e[r]=o);const s=r.group;var a;ei(r)&&!e[s]&&(e[s]={}),e[s][(a=n.replace(i,""),a.charAt(0).toLowerCase()+a.slice(1))]=o})),r.mapping&&pc(e[r.group],r.mapping)}))},fc=(e,t={})=>{const r=[];uo(e.attributes,(t=>{r.push(e.attributes[t])}));const n=r.filter((e=>e.name)).reduce(((t,r)=>{const n=fo(e,r.name);var o;return t[(o=r.name,Ql(o.replace(/^data-/,"")))]=n===r.name||n,t}),{});return pc(n,t),n},hc=(...e)=>e[0]instanceof HTMLElement?((e,t={})=>{const r={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Fi("SET_ATTRIBUTE_TO_OPTION_MAP",r);const n={...t},o=fc("FIELDSET"===e.nodeName?e.querySelector("input[type=file]"):e,r);Object.keys(o).forEach((e=>{ei(o[e])?(ei(n[e])||(n[e]={}),Object.assign(n[e],o[e])):n[e]=o[e]})),n.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map((e=>({source:e.value,options:{type:e.dataset.type}}))));const i=uc(n);return e.files&&Array.from(e.files).forEach((e=>{i.addFile(e)})),i.replaceElement(e),i})(...e):uc(...e),Ec=["fire","_read","_write"],_c=e=>{const t={};return mi(e,t,Ec),t},mc=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,((e,r)=>t[r])),gc=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),r=URL.createObjectURL(t),n=new Worker(r);return{transfer:(e,t)=>{},post:(e,t,r)=>{const o=hi();n.onmessage=e=>{e.data.id===o&&t(e.data.message)},n.postMessage({id:o,message:e},r)},terminate:()=>{n.terminate(),URL.revokeObjectURL(r)}}},Tc=e=>new Promise(((t,r)=>{const n=new Image;n.onload=()=>{t(n)},n.onerror=e=>{r(e)},n.src=e})),Ic=(e,t)=>{const r=e.slice(0,e.size,e.type);return r.lastModifiedDate=e.lastModifiedDate,r.name=t,r},yc=e=>Ic(e,e.name),Rc=[],vc=e=>{if(Rc.includes(e))return;Rc.push(e);const t=e({addFilter:Ui,utils:{Type:Ni,forin:uo,isString:Ho,isFile:Cs,toNaturalFileSize:Ks,replaceInString:mc,getExtensionFromFilename:ns,getFilenameWithoutExtension:Ls,guesstimateMimeType:pl,getFileFromBlob:ss,getFilenameFromURL:rs,createRoute:Go,createWorker:gc,createView:xo,createItemAPI:Ti,loadImage:Tc,copyFile:yc,renameFile:Ic,createBlob:as,applyFilterChain:Gi,text:zs,getNumericAspectRatioFromString:ki},views:{fileActionButton:Qs}});var r;r=t.options,Object.assign(Bi,r)},Oc=(()=>{const e=Io()&&!("[object OperaMini]"===Object.prototype.toString.call(window.operamini))&&"visibilityState"in document&&"Promise"in window&&"slice"in Blob.prototype&&"URL"in window&&"createObjectURL"in window.URL&&"performance"in window&&("supports"in(window.CSS||{})||/MSIE|Trident/.test(window.navigator.userAgent));return()=>e})(),Dc={apps:[]},Sc=()=>{};let wc={},Ac=Sc,bc=Sc,Mc=Sc,Pc=Sc,Lc=Sc,Cc=Sc,Nc=Sc;if(Oc()){((e,t,r=60)=>{const n="__framePainter";if(window[n])return window[n].readers.push(e),void window[n].writers.push(t);window[n]={readers:[e],writers:[t]};const o=window[n],i=1e3/r;let s=null,a=null,l=null,c=null;const d=()=>{document.hidden?(l=()=>window.setTimeout((()=>u(performance.now())),i),c=()=>window.clearTimeout(a)):(l=()=>window.requestAnimationFrame(u),c=()=>window.cancelAnimationFrame(a))};document.addEventListener("visibilitychange",(()=>{c&&c(),d(),u(performance.now())}));const u=e=>{a=l(u),s||(s=e);const t=e-s;t<=i||(s=e-t%i,o.readers.forEach((e=>e())),o.writers.forEach((t=>t(e))))};d(),u(performance.now())})((()=>{Dc.apps.forEach((e=>e._read()))}),(e=>{Dc.apps.forEach((t=>t._write(e)))}));const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Oc,create:Ac,destroy:bc,parse:Mc,find:Pc,registerPlugin:Lc,setOptions:Nc}})),document.removeEventListener("DOMContentLoaded",e)};"loading"!==document.readyState?setTimeout((()=>e()),0):document.addEventListener("DOMContentLoaded",e);const t=()=>uo(Vi(),((e,t)=>{wc[e]=t[1]}));wc={},t(),Ac=(...e)=>{const t=hc(...e);return t.on("destroy",bc),Dc.apps.push(t),_c(t)},bc=e=>{const t=Dc.apps.findIndex((t=>t.isAttachedTo(e)));if(t>=0){return Dc.apps.splice(t,1)[0].restoreElement(),!0}return!1},Mc=e=>Array.from(e.querySelectorAll(".filepond")).filter((e=>!Dc.apps.find((t=>t.isAttachedTo(e))))).map((e=>Ac(e))),Pc=e=>{const t=Dc.apps.find((t=>t.isAttachedTo(e)));return t?_c(t):null},Lc=(...e)=>{e.forEach(vc),t()},Cc=()=>{const e={};return uo(Vi(),((t,r)=>{e[t]=r[0]})),e},Nc=e=>(ei(e)&&(Dc.apps.forEach((t=>{t.setOptions(e)})),(e=>{uo(e,((e,t)=>{Bi[e]&&(Bi[e][0]=ni(t,Bi[e][0],Bi[e][1]))}))})(e)),Cc())}
/*!
 * vue-filepond v7.0.2
 * A handy FilePond adapter component for Vue
 * 
 * Copyright (c) 2021 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */const xc=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],Gc=Oc(),Fc={},Uc=[],Vc=[];let Bc={};
/*!
 * FilePondPluginFileValidateType 1.2.6
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */
const qc=({addFilter:e,utils:t})=>{const{Type:r,isString:n,replaceInString:o,guesstimateMimeType:i,getExtensionFromFilename:s,getFilenameFromURL:a}=t,l=(e,t)=>e.some((e=>{return/\*$/.test(e)?(r=e,(/^[^/]+/.exec(t)||[]).pop()===r.slice(0,-2)):e===t;var r})),c=(e,t,r)=>{if(0===t.length)return!0;const o=(e=>{let t="";if(n(e)){const r=a(e),n=s(r);n&&(t=i(n))}else t=e.type;return t})(e);return r?new Promise(((n,i)=>{r(e,o).then((e=>{l(t,e)?n():i()})).catch(i)})):l(t,o)};return e("SET_ATTRIBUTE_TO_OPTION_MAP",(e=>Object.assign(e,{accept:"acceptedFileTypes"}))),e("ALLOW_HOPPER_ITEM",((e,{query:t})=>!t("GET_ALLOW_FILE_TYPE_VALIDATION")||c(e,t("GET_ACCEPTED_FILE_TYPES")))),e("LOAD_FILE",((e,{query:t})=>new Promise(((r,n)=>{if(!t("GET_ALLOW_FILE_TYPE_VALIDATION"))return void r(e);const i=t("GET_ACCEPTED_FILE_TYPES"),s=t("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),a=c(e,i,s),l=()=>{const e=i.map((r=t("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"),e=>null!==r[e]&&(r[e]||e))).filter((e=>!1!==e));var r;n({status:{main:t("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:o(t("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:e.join(", "),allButLastType:e.slice(0,-1).join(", "),lastType:e[e.length-1]})}})};if("boolean"==typeof a)return a?r(e):l();a.then((()=>{r(e)})).catch(l)})))),{options:{allowFileTypeValidation:[!0,r.BOOLEAN],acceptedFileTypes:[[],r.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",r.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",r.STRING],fileValidateTypeLabelExpectedTypesMap:[{},r.OBJECT],fileValidateTypeDetectType:[null,r.FUNCTION]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:qc}))
/*!
 * FilePondPluginImagePreview 4.6.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */;const kc=(e,t)=>Hc(e.x*t,e.y*t),Yc=(e,t)=>Hc(e.x+t.x,e.y+t.y),Wc=(e,t,r)=>{const n=Math.cos(t),o=Math.sin(t),i=Hc(e.x-r.x,e.y-r.y);return Hc(r.x+n*i.x-o*i.y,r.y+o*i.x+n*i.y)},Hc=(e=0,t=0)=>({x:e,y:t}),$c=(e,t,r=1,n)=>"string"==typeof e?parseFloat(e)*r:"number"==typeof e?e*(n?t[n]:Math.min(t.width,t.height)):void 0,zc=e=>null!=e,Xc=(e,t)=>Object.keys(t).forEach((r=>e.setAttribute(r,t[r]))),jc=(e,t)=>{const r=document.createElementNS("http://www.w3.org/2000/svg",e);return t&&Xc(r,t),r},Zc={contain:"xMidYMid meet",cover:"xMidYMid slice"},Qc={left:"start",center:"middle",right:"end"},Kc=e=>t=>jc(e,{id:t.id}),Jc={image:e=>{const t=jc("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=()=>{t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},rect:Kc("rect"),ellipse:Kc("ellipse"),text:Kc("text"),path:Kc("path"),line:e=>{const t=jc("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),r=jc("line");t.appendChild(r);const n=jc("path");t.appendChild(n);const o=jc("path");return t.appendChild(o),t}},ed={rect:e=>Xc(e,{...e.rect,...e.styles}),ellipse:e=>{const t=e.rect.x+.5*e.rect.width,r=e.rect.y+.5*e.rect.height,n=.5*e.rect.width,o=.5*e.rect.height;return Xc(e,{cx:t,cy:r,rx:n,ry:o,...e.styles})},image:(e,t)=>{Xc(e,{...e.rect,...e.styles,preserveAspectRatio:Zc[t.fit]||"none"})},text:(e,t,r,n)=>{const o=$c(t.fontSize,r,n),i=t.fontFamily||"sans-serif",s=t.fontWeight||"normal",a=Qc[t.textAlign]||"start";Xc(e,{...e.rect,...e.styles,"stroke-width":0,"font-weight":s,"font-size":o,"font-family":i,"text-anchor":a}),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},path:(e,t,r,n)=>{var o;Xc(e,{...e.styles,fill:"none",d:(o=t.points.map((e=>({x:$c(e.x,r,n,"width"),y:$c(e.y,r,n,"height")}))),o.map(((e,t)=>`${0===t?"M":"L"} ${e.x} ${e.y}`)).join(" "))})},line:(e,t,r,n)=>{Xc(e,{...e.rect,...e.styles,fill:"none"});const o=e.childNodes[0],i=e.childNodes[1],s=e.childNodes[2],a=e.rect,l={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(Xc(o,{x1:a.x,y1:a.y,x2:l.x,y2:l.y}),!t.lineDecoration)return;i.style.display="none",s.style.display="none";const c=(e=>{const t=Math.sqrt(e.x*e.x+e.y*e.y);return 0===t?{x:0,y:0}:Hc(e.x/t,e.y/t)})({x:l.x-a.x,y:l.y-a.y}),d=$c(.05,r,n);if(-1!==t.lineDecoration.indexOf("arrow-begin")){const e=kc(c,d),t=Yc(a,e),r=Wc(a,2,t),n=Wc(a,-2,t);Xc(i,{style:"display:block;",d:`M${r.x},${r.y} L${a.x},${a.y} L${n.x},${n.y}`})}if(-1!==t.lineDecoration.indexOf("arrow-end")){const e=kc(c,-d),t=Yc(l,e),r=Wc(l,2,t),n=Wc(l,-2,t);Xc(s,{style:"display:block;",d:`M${r.x},${r.y} L${l.x},${l.y} L${n.x},${n.y}`})}}},td=(e,t,r,n,o)=>{"path"!==t&&(e.rect=((e,t,r=1)=>{let n=$c(e.x,t,r,"width")||$c(e.left,t,r,"width"),o=$c(e.y,t,r,"height")||$c(e.top,t,r,"height"),i=$c(e.width,t,r,"width"),s=$c(e.height,t,r,"height"),a=$c(e.right,t,r,"width"),l=$c(e.bottom,t,r,"height");return zc(o)||(o=zc(s)&&zc(l)?t.height-s-l:l),zc(n)||(n=zc(i)&&zc(a)?t.width-i-a:a),zc(i)||(i=zc(n)&&zc(a)?t.width-n-a:0),zc(s)||(s=zc(o)&&zc(l)?t.height-o-l:0),{x:n||0,y:o||0,width:i||0,height:s||0}})(r,n,o)),e.styles=((e,t,r)=>{const n=e.borderStyle||e.lineStyle||"solid",o=e.backgroundColor||e.fontColor||"transparent",i=e.borderColor||e.lineColor||"transparent",s=$c(e.borderWidth||e.lineWidth,t,r);return{"stroke-linecap":e.lineCap||"round","stroke-linejoin":e.lineJoin||"round","stroke-width":s||0,"stroke-dasharray":"string"==typeof n?"":n.map((e=>$c(e,t,r))).join(","),stroke:i,fill:o,opacity:e.opacity||1}})(r,n,o),ed[t](e,r,n,o)},rd=["x","y","left","top","right","bottom","width","height"],nd=e=>{const[t,r]=e,n=r.points?{}:rd.reduce(((e,t)=>{var n;return e[t]="string"==typeof(n=r[t])&&/%/.test(n)?parseFloat(n)/100:n,e}),{});return[t,{zIndex:0,...r,...n}]},od=(e,t)=>e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0,id=e=>e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:e,props:t})=>{if(!t.dirty)return;const{crop:r,resize:n,markup:o}=t,i=t.width,s=t.height;let a=r.width,l=r.height;if(n){const{size:e}=n;let t=e&&e.width,r=e&&e.height;const o=n.mode,i=n.upscale;t&&!r&&(r=t),r&&!t&&(t=r);const s=a<t&&l<r;if(!s||s&&i){let e=t/a,n=r/l;if("force"===o)a=t,l=r;else{let t;"cover"===o?t=Math.max(e,n):"contain"===o&&(t=Math.min(e,n)),a*=t,l*=t}}}const c={width:i,height:s};e.element.setAttribute("width",c.width),e.element.setAttribute("height",c.height);const d=Math.min(i/a,s/l);e.element.innerHTML="";const u=e.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");o.filter(u).map(nd).sort(od).forEach((t=>{const[r,n]=t,o=((e,t)=>Jc[e](t))(r,n);td(o,r,n,c,d),e.element.appendChild(o)}))}}),sd=(e,t)=>({x:e,y:t}),ad=(e,t)=>sd(e.x-t.x,e.y-t.y),ld=(e,t)=>Math.sqrt(((e,t)=>((e,t)=>e.x*t.x+e.y*t.y)(ad(e,t),ad(e,t)))(e,t)),cd=(e,t)=>{const r=e,n=t,o=1.5707963267948966-t,i=Math.sin(1.5707963267948966),s=Math.sin(n),a=Math.sin(o),l=Math.cos(o),c=r/i;return sd(l*(c*s),l*(c*a))},dd=(e,t,r,n)=>{const o=n.x>.5?1-n.x:n.x,i=n.y>.5?1-n.y:n.y,s=2*o*e.width,a=2*i*e.height,l=((e,t)=>{const r=e.width,n=e.height,o=cd(r,t),i=cd(n,t),s=sd(e.x+Math.abs(o.x),e.y-Math.abs(o.y)),a=sd(e.x+e.width+Math.abs(i.y),e.y+Math.abs(i.x)),l=sd(e.x-Math.abs(i.y),e.y+e.height-Math.abs(i.x));return{width:ld(s,a),height:ld(s,l)}})(t,r);return Math.max(l.width/s,l.height/a)},ud=(e,t)=>{let r=e.width,n=r*t;n>e.height&&(n=e.height,r=n/t);return{x:.5*(e.width-r),y:.5*(e.height-n),width:r,height:n}},pd=(e,t={})=>{let{zoom:r,rotation:n,center:o,aspectRatio:i}=t;i||(i=e.height/e.width);const s=((e,t,r=1)=>{const n=e.height/e.width;let o=t,i=1,s=n;s>o&&(s=o,i=s/n);const a=Math.max(1/i,o/s),l=e.width/(r*a*i);return{width:l,height:l*t}})(e,i,r),a={x:.5*s.width,y:.5*s.height},l={x:0,y:0,width:s.width,height:s.height,center:a},c=void 0===t.scaleToFit||t.scaleToFit,d=r*dd(e,ud(l,i),n,c?o:{x:.5,y:.5});return{widthFloat:s.width/d,heightFloat:s.height/d,width:Math.round(s.width/d),height:Math.round(s.height/d)}},fd={type:"spring",stiffness:.5,damping:.45,mass:10},hd=e=>e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:e,props:t}){t.background&&(e.element.style.backgroundColor=t.background)},create:({root:t,props:r})=>{t.ref.image=t.appendChildView(t.createChildView((e=>e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:fd,originY:fd,scaleX:fd,scaleY:fd,translateX:fd,translateY:fd,rotateZ:fd}},create:({root:t,props:r})=>{r.width=r.image.width,r.height=r.image.height,t.ref.bitmap=t.appendChildView(t.createChildView((e=>e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:e,props:t})=>{e.appendChild(t.image)}}))(e),{image:r.image}))},write:({root:e,props:t})=>{const{flip:r}=t.crop,{bitmap:n}=e.ref;n.scaleX=r.horizontal?-1:1,n.scaleY=r.vertical?-1:1}}))(e),Object.assign({},r))),t.ref.createMarkup=()=>{t.ref.markup||(t.ref.markup=t.appendChildView(t.createChildView(id(e),Object.assign({},r))))},t.ref.destroyMarkup=()=>{t.ref.markup&&(t.removeChildView(t.ref.markup),t.ref.markup=null)};const n=t.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==n&&(t.element.dataset.transparencyIndicator="grid"===n?n:"color")},write:({root:e,props:t,shouldOptimize:r})=>{const{crop:n,markup:o,resize:i,dirty:s,width:a,height:l}=t;e.ref.image.crop=n;const c={x:0,y:0,width:a,height:l,center:{x:.5*a,y:.5*l}},d={width:e.ref.image.width,height:e.ref.image.height},u={x:n.center.x*d.width,y:n.center.y*d.height},p={x:c.center.x-d.width*n.center.x,y:c.center.y-d.height*n.center.y},f=2*Math.PI+n.rotation%(2*Math.PI),h=n.aspectRatio||d.height/d.width,E=void 0===n.scaleToFit||n.scaleToFit,_=dd(d,ud(c,h),f,E?n.center:{x:.5,y:.5}),m=n.zoom*_;o&&o.length?(e.ref.createMarkup(),e.ref.markup.width=a,e.ref.markup.height=l,e.ref.markup.resize=i,e.ref.markup.dirty=s,e.ref.markup.markup=o,e.ref.markup.crop=pd(d,n)):e.ref.markup&&e.ref.destroyMarkup();const g=e.ref.image;if(r)return g.originX=null,g.originY=null,g.translateX=null,g.translateY=null,g.rotateZ=null,g.scaleX=null,void(g.scaleY=null);g.originX=u.x,g.originY=u.y,g.translateX=p.x,g.translateY=p.y,g.rotateZ=f,g.scaleX=m,g.scaleY=m}});let Ed=0;const _d=function(){self.onmessage=e=>{createImageBitmap(e.data.message.file).then((t=>{self.postMessage({id:e.data.id,message:t},[t])}))}},md=function(){self.onmessage=e=>{const t=e.data.message.imageData,r=e.data.message.colorMatrix,n=t.data,o=n.length,i=r[0],s=r[1],a=r[2],l=r[3],c=r[4],d=r[5],u=r[6],p=r[7],f=r[8],h=r[9],E=r[10],_=r[11],m=r[12],g=r[13],T=r[14],I=r[15],y=r[16],R=r[17],v=r[18],O=r[19];let D=0,S=0,w=0,A=0,b=0;for(;D<o;D+=4)S=n[D]/255,w=n[D+1]/255,A=n[D+2]/255,b=n[D+3]/255,n[D]=Math.max(0,Math.min(255*(S*i+w*s+A*a+b*l+c),255)),n[D+1]=Math.max(0,Math.min(255*(S*d+w*u+A*p+b*f+h),255)),n[D+2]=Math.max(0,Math.min(255*(S*E+w*_+A*m+b*g+T),255)),n[D+3]=Math.max(0,Math.min(255*(S*I+w*y+A*R+b*v+O),255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},gd={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,t)=>[-1,0,0,-1,e,t],4:(e,t)=>[1,0,0,-1,0,t],5:()=>[0,1,1,0,0,0],6:(e,t)=>[0,1,-1,0,t,0],7:(e,t)=>[0,-1,-1,0,t,e],8:e=>[0,-1,1,0,0,e]},Td=(e,t,r,n)=>{t=Math.round(t),r=Math.round(r);const o=document.createElement("canvas");o.width=t,o.height=r;const i=o.getContext("2d");return n>=5&&n<=8&&([t,r]=[r,t]),((e,t,r,n)=>{-1!==n&&e.transform.apply(e,gd[n](t,r))})(i,t,r,n),i.drawImage(e,0,0,t,r),o},Id=e=>/^image/.test(e.type)&&!/svg/.test(e.type),yd=(e,t)=>Math.floor(Math.sqrt(e/(t/4))),Rd=(e,t)=>{(t=t||document.createElement("canvas")).width=e.width,t.height=e.height;return t.getContext("2d").drawImage(e,0,0),t},vd=e=>{const t=e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:e,props:t})=>{let r='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>';if(document.querySelector("base")){const e=window.location.href.replace(window.location.hash,"");r=r.replace(/url\(\#/g,"url("+e+"#")}Ed++,e.element.classList.add(`filepond--image-preview-overlay-${t.status}`),e.element.innerHTML=r.replace(/__UID__/g,Ed)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}});const r=(e=>e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:fd,scaleY:fd,translateY:fd,opacity:{type:"tween",duration:400}}},create:({root:t,props:r})=>{t.ref.clip=t.appendChildView(t.createChildView(hd(e),{id:r.id,image:r.image,crop:r.crop,markup:r.markup,resize:r.resize,dirty:r.dirty,background:r.background}))},write:({root:e,props:t,shouldOptimize:r})=>{const{clip:n}=e.ref,{image:o,crop:i,markup:s,resize:a,dirty:l}=t;if(n.crop=i,n.markup=s,n.resize=a,n.dirty=l,n.opacity=r?0:1,r||e.rect.element.hidden)return;const c=o.height/o.width;let d=i.aspectRatio||c;const u=e.rect.inner.width,p=e.rect.inner.height;let f=e.query("GET_IMAGE_PREVIEW_HEIGHT");const h=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),E=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),_=e.query("GET_PANEL_ASPECT_RATIO"),m=e.query("GET_ALLOW_MULTIPLE");_&&!m&&(f=u*_,d=_);let g=null!==f?f:Math.max(h,Math.min(u*d,E)),T=g/d;T>u&&(T=u,g=T*d),g>p&&(g=p,T=p/d),n.width=T,n.height=g}}))(e),{createWorker:n}=e.utils,o=(e,t,r)=>new Promise((o=>{e.ref.imageData||(e.ref.imageData=r.getContext("2d").getImageData(0,0,r.width,r.height));const i=(e=>{let t;try{t=new ImageData(e.width,e.height)}catch(r){t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t})(e.ref.imageData);if(!t||20!==t.length)return r.getContext("2d").putImageData(i,0,0),o();const s=n(md);s.post({imageData:i,colorMatrix:t},(e=>{r.getContext("2d").putImageData(e,0,0),s.terminate(),o()}),[i.data.buffer])})),i=({root:e,props:t,image:n})=>{const o=t.id,i=e.query("GET_ITEM",{id:o});if(!i)return;const s=i.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},a=e.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let l,c,d=!1;e.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(l=i.getMetadata("markup")||[],c=i.getMetadata("resize"),d=!0);const u=e.appendChildView(e.createChildView(r,{id:o,image:n,crop:s,resize:c,markup:l,dirty:d,background:a,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),e.childViews.length);e.ref.images.push(u),u.opacity=1,u.scaleX=1,u.scaleY=1,u.translateY=0,setTimeout((()=>{e.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:o})}),250)},s=({root:e})=>{e.ref.overlayShadow.opacity=1,e.ref.overlayError.opacity=0,e.ref.overlaySuccess.opacity=0},a=({root:e})=>{e.ref.overlayShadow.opacity=.25,e.ref.overlayError.opacity=1};return e.utils.createView({name:"image-preview-wrapper",create:({root:e})=>{e.ref.images=[],e.ref.imageData=null,e.ref.imageViewBin=[],e.ref.overlayShadow=e.appendChildView(e.createChildView(t,{opacity:0,status:"idle"})),e.ref.overlaySuccess=e.appendChildView(e.createChildView(t,{opacity:0,status:"success"})),e.ref.overlayError=e.appendChildView(e.createChildView(t,{opacity:0,status:"failure"}))},styles:["height"],apis:["height"],destroy:({root:e})=>{e.ref.images.forEach((e=>{e.image.width=1,e.image.height=1}))},didWriteView:({root:e})=>{e.ref.images.forEach((e=>{e.dirty=!1}))},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:({root:e})=>{const t=e.ref.images[e.ref.images.length-1];t.translateY=0,t.scaleX=1,t.scaleY=1,t.opacity=1},DID_IMAGE_PREVIEW_CONTAINER_CREATE:({root:e,props:t})=>{const{id:r}=t,n=e.query("GET_ITEM",r);if(!n)return;((e,t)=>{let r=new Image;r.onload=()=>{const e=r.naturalWidth,n=r.naturalHeight;r=null,t(e,n)},r.src=e})(URL.createObjectURL(n.file),((t,n)=>{e.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:r,width:t,height:n})}))},DID_FINISH_CALCULATE_PREVIEWSIZE:({root:e,props:t})=>{const{id:r}=t,s=e.query("GET_ITEM",r);if(!s)return;const a=URL.createObjectURL(s.file),l=()=>{var e;(e=a,new Promise(((t,r)=>{const n=new Image;n.crossOrigin="Anonymous",n.onload=()=>{t(n)},n.onerror=e=>{r(e)},n.src=e}))).then(c)},c=r=>{URL.revokeObjectURL(a);const n=(s.getMetadata("exif")||{}).orientation||-1;let{width:l,height:c}=r;if(!l||!c)return;n>=5&&n<=8&&([l,c]=[c,l]);const d=Math.max(1,.75*window.devicePixelRatio),u=e.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*d,p=c/l,f=e.rect.element.width,h=e.rect.element.height;let E=f,_=E*p;p>1?(E=Math.min(l,f*u),_=E*p):(_=Math.min(c,h*u),E=_/p);const m=Td(r,E,_,n),g=()=>{const n=e.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?(e=>{const t=Math.min(10/e.width,10/e.height),r=document.createElement("canvas"),n=r.getContext("2d"),o=r.width=Math.ceil(e.width*t),i=r.height=Math.ceil(e.height*t);n.drawImage(e,0,0,o,i);let s=null;try{s=n.getImageData(0,0,o,i).data}catch(e){return null}const a=s.length;let l=0,c=0,d=0,u=0;for(;u<a;u+=4)l+=s[u]*s[u],c+=s[u+1]*s[u+1],d+=s[u+2]*s[u+2];return l=yd(l,a),c=yd(c,a),d=yd(d,a),{r:l,g:c,b:d}})(data):null;s.setMetadata("color",n,!0),"close"in r&&r.close(),e.ref.overlayShadow.opacity=1,i({root:e,props:t,image:m})},T=s.getMetadata("filter");T?o(e,T,m).then(g):g()};if((e=>{const t=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return!((t?parseInt(t[1]):null)<=58)&&"createImageBitmap"in window&&Id(e)})(s.file)){const e=n(_d);e.post({file:s.file},(t=>{e.terminate(),t?c(t):l()}))}else l()},DID_UPDATE_ITEM_METADATA:({root:e,props:t,action:r})=>{if(!/crop|filter|markup|resize/.test(r.change.key))return;if(!e.ref.images.length)return;const n=e.query("GET_ITEM",{id:t.id});if(n)if(/filter/.test(r.change.key)){const t=e.ref.images[e.ref.images.length-1];o(e,r.change.value,t.image)}else if(/crop|markup|resize/.test(r.change.key)){const r=n.getMetadata("crop"),o=e.ref.images[e.ref.images.length-1];if(r&&r.aspectRatio&&o.crop&&o.crop.aspectRatio&&Math.abs(r.aspectRatio-o.crop.aspectRatio)>1e-5){const r=(({root:e})=>{const t=e.ref.images.shift();return t.opacity=0,t.translateY=-15,e.ref.imageViewBin.push(t),t})({root:e});i({root:e,props:t,image:Rd(r.image)})}else(({root:e,props:t})=>{const r=e.query("GET_ITEM",{id:t.id});if(!r)return;const n=e.ref.images[e.ref.images.length-1];n.crop=r.getMetadata("crop"),n.background=e.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),e.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(n.dirty=!0,n.resize=r.getMetadata("resize"),n.markup=r.getMetadata("markup"))})({root:e,props:t})}},DID_THROW_ITEM_LOAD_ERROR:a,DID_THROW_ITEM_PROCESSING_ERROR:a,DID_THROW_ITEM_INVALID:a,DID_COMPLETE_ITEM_PROCESSING:({root:e})=>{e.ref.overlayShadow.opacity=.25,e.ref.overlaySuccess.opacity=1},DID_START_ITEM_PROCESSING:s,DID_REVERT_ITEM_PROCESSING:s},(({root:e})=>{const t=e.ref.imageViewBin.filter((e=>0===e.opacity));e.ref.imageViewBin=e.ref.imageViewBin.filter((e=>e.opacity>0)),t.forEach((t=>((e,t)=>{e.removeChildView(t),t.image.width=1,t.image.height=1,t._destroy()})(e,t))),t.length=0}))})},Od=e=>{const{addFilter:t,utils:r}=e,{Type:n,createRoute:o,isFile:i}=r,s=vd(e);return t("CREATE_VIEW",(e=>{const{is:t,view:r,query:n}=e;if(!t("file")||!n("GET_ALLOW_IMAGE_PREVIEW"))return;const a=({root:e})=>{e.ref.shouldRescale=!0};r.registerWriter(o({DID_RESIZE_ROOT:a,DID_STOP_RESIZE:a,DID_LOAD_ITEM:({root:e,props:t})=>{const{id:o}=t,a=n("GET_ITEM",o);if(!a||!i(a.file)||a.archived)return;const l=a.file;if(!(e=>/^image/.test(e.type))(l))return;if(!n("GET_IMAGE_PREVIEW_FILTER_ITEM")(a))return;const c="createImageBitmap"in(window||{}),d=n("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!c&&d&&l.size>d)return;e.ref.imagePreview=r.appendChildView(r.createChildView(s,{id:o}));const u=e.query("GET_IMAGE_PREVIEW_HEIGHT");u&&e.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:a.id,height:u});const p=!c&&l.size>n("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");e.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:o},p)},DID_IMAGE_PREVIEW_CALCULATE_SIZE:({root:e,action:t})=>{e.ref.imageWidth=t.width,e.ref.imageHeight=t.height,e.ref.shouldRescale=!0,e.ref.shouldDrawPreview=!0,e.dispatch("KICK")},DID_UPDATE_ITEM_METADATA:({root:e,action:t})=>{"crop"===t.change.key&&(e.ref.shouldRescale=!0)}},(({root:e,props:t})=>{e.ref.imagePreview&&(e.rect.element.hidden||(e.ref.shouldRescale&&(((e,t)=>{if(!e.ref.imagePreview)return;let{id:r}=t;const n=e.query("GET_ITEM",{id:r});if(!n)return;const o=e.query("GET_PANEL_ASPECT_RATIO"),i=e.query("GET_ITEM_PANEL_ASPECT_RATIO"),s=e.query("GET_IMAGE_PREVIEW_HEIGHT");if(o||i||s)return;let{imageWidth:a,imageHeight:l}=e.ref;if(!a||!l)return;const c=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),d=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),u=(n.getMetadata("exif")||{}).orientation||-1;if(u>=5&&u<=8&&([a,l]=[l,a]),!Id(n.file)||e.query("GET_IMAGE_PREVIEW_UPSCALE")){const e=2048/a;a*=e,l*=e}const p=l/a,f=(n.getMetadata("crop")||{}).aspectRatio||p;let h=Math.max(c,Math.min(l,d));const E=e.rect.element.width,_=Math.min(E*f,h);e.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:n.id,height:_})})(e,t),e.ref.shouldRescale=!1),e.ref.shouldDrawPreview&&(requestAnimationFrame((()=>{requestAnimationFrame((()=>{e.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:t.id})}))})),e.ref.shouldDrawPreview=!1)))})))})),{options:{allowImagePreview:[!0,n.BOOLEAN],imagePreviewFilterItem:[()=>!0,n.FUNCTION],imagePreviewHeight:[null,n.INT],imagePreviewMinHeight:[44,n.INT],imagePreviewMaxHeight:[256,n.INT],imagePreviewMaxFileSize:[null,n.INT],imagePreviewZoomFactor:[2,n.INT],imagePreviewUpscale:[!1,n.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,n.INT],imagePreviewTransparencyIndicator:[null,n.STRING],imagePreviewCalculateAverageImageColor:[!1,n.BOOLEAN],imagePreviewMarkupShow:[!0,n.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,n.FUNCTION]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Od}));var Dd={name:"HelloWorld",components:{FilePond:((...e)=>{Lc(...e),Uc.length=0;for(const e in wc){if(/^on/.test(e)){Uc.push(e);continue}let r=[String,(t=wc[e],{string:String,boolean:Boolean,array:Array,function:Function,int:Number,serverapi:Object,object:Object}[t])];"labelFileProcessingError"==e&&r.push(Function),Fc[e]={type:r,default:"__unset__"}}var t;return{name:"FilePond",props:Fc,render(){return kn("div",{class:{"filepond--wrapper":!0}},[kn("input",{id:this.id,name:this.name,type:"file",class:this.className,required:this.required,multiple:this.allowMultiple,accept:this.acceptedFileTypes,capture:this.captureMethod})])},created(){this.watchers=Object.keys(Fc).map((e=>this.$watch(e,(t=>{this._pond[e]=t}))))},mounted(){if(!Gc)return;this._element=this.$el.querySelector("input");const e=Uc.reduce(((e,t)=>(e[t]=(...e)=>{this.$emit("input",this._pond?this._pond.getFiles():[]),this.$emit(t.substr(2),...e)},e)),{}),t={};Object.keys(Fc).forEach((e=>{"__unset__"!==this[e]&&(t[e]=this[e])})),this._pond=Ac(this._element,Object.assign({},Bc,e,t)),Object.keys(this._pond).filter((e=>!xc.includes(e))).forEach((e=>{this[e]=this._pond[e]})),Vc.push(this._pond)},beforeUnmount(){const{detached:e}=this.$options;if(!this.$el.offsetParent)return void e.call(this);new MutationObserver(((t,r)=>{const n=((t[0]||{}).removedNodes||[])[0];n&&n.contains(this.$el)&&(r.disconnect(),e.call(this))})).observe(document.documentElement,{childList:!0,subtree:!0})},detached(){if(this.watchers.forEach((e=>e())),!this._pond)return;this._pond.destroy();const e=Vc.indexOf(this._pond);e>=0&&Vc.splice(e,1),this._pond=null}}})(qc,Od)},props:{msg:String,files:[]},data(){return{count:0,imageUpload:"",uploadName:"images",uploadOptions:{process:{url:"/cv/ocr/text",method:"POST",ondata:this.formData,onload:this.loaded,onerror:e=>{console.error(e)}}},loading:!1,textData:{}}},computed:{previewHeight(){return this.textData&&this.textData.length>0?1024:0}},methods:{handleFilePondInit(){},formData(e){if(e){let t=e.getAll(this.uploadName).filter((e=>e instanceof File));e.delete(this.uploadName),t.forEach((t=>e.append(this.uploadName,t)))}return this.loading=!0,e},loaded(e){this.loading=!1;try{let t=JSON.parse(e);0===t.code?this.textData=t.result[0].data:alert("解析图片失败",textData.code)}catch(e){alert("解析图片失败",e),console.error(e)}}}};const Sd={class:"uploader"},wd={class:"loading"};Dd.render=function(e,t,r,o,i,s){const a=Or("file-pond");return Cr(),Fr("div",Sd,[Yr("h1",null,l(r.msg),1),Wr(a,{name:i.uploadName,ref:"pond","label-idle":"Drop files here...","allow-multiple":!1,"accepted-file-types":"image/jpeg, image/png",server:i.uploadOptions,files:r.files,"on:init":s.handleFilePondInit},null,8,["name","server","files","on:init"]),hr(Yr("div",wd," 处理中 . . . ",512),[[so,i.loading]]),Yr("div",{class:"preview",style:n({height:s.previewHeight+"px"})},[(Cr(!0),Fr(wr,null,Qr(i.textData,((e,t)=>(Cr(),Fr("span",{class:"text",key:t},[Yr("span",{style:n({position:"absolute",top:e.text_box_position[0][1]+"px",left:e.text_box_position[0][0]+"px"})},l(e.text),5)])))),128))],4)])},Dd.__scopeId="data-v-32b408da";var Ad={name:"App",components:{HelloWorld:Dd}};const bd=Yr("img",{alt:"Vue logo",src:"./_assets/logo.3b714202.png"},null,-1);Ad.render=function(e,t,r,n,o,i){const s=Or("HelloWorld");return Cr(),Fr(wr,null,[bd,Wr(s,{msg:"Hello Vue 3.0 + Vite"})],64)},((...e)=>{const t=(co||(co=yr(lo))).createApp(...e),{mount:r}=t;return t.mount=e=>{const n=function(e){if(D(e)){return document.querySelector(e)}return e}(e);if(!n)return;const o=t._component;O(o)||o.render||o.template||(o.template=n.innerHTML),n.innerHTML="";const i=r(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),i},t})(Ad).mount("#app");
